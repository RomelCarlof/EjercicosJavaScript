!function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){return i(e[a][1][t]||t)}),l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=v(t("url-parse")),r=h(t("dot-object")),a=v(t("js-cookie")),s=v(t("./store")),u=v(t("exit-intent-mobile")),c=v(t("tinycon")),l=h(t("flat")),f=v(t("async")),p=v(t("../../../server/public/quriobot/assets/js/QuriobotWidget"));function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}function h(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=o(t)&&"function"!=typeof t)return{default:t};var n=d(e);if(n&&n.has(t))return n.get(t);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var s=r?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}function v(t){return t&&t.__esModule?t:{default:t}}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0}),p.default.URL=i.default,p.default.dotObject=r,p.default.store=s.default,p.default.Cookies=a.default,p.default.exitIntent=u.default,p.default.Tinycon=c.default,p.default.flatten=l,p.default.async=f.default;var g=function(t,e,n,o,i){var r=n?"POST":"GET";i&&(i.useProxy&&(n={url:t,data:n,headers:o},t="/api/proxy"),i.method&&(r=i.method));try{var a=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");i&&i.withCredentials&&(a.withCredentials=!0),a.open(r,t,1),(o=o||{})["Content-Type"]||(o["Content-Type"]="application/json"),Object.keys(o).forEach((function(t){a.setRequestHeader(t,o[t])})),a.onreadystatechange=function(){a.readyState>3&&e&&e(a.responseText,a)},a.send((Object.toJSON||JSON.stringify)(n))}catch(t){window.console&&console.log(t)}};p.default.ajax=g;p.default.htmlToText=function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.innerText||e.textContent||""};var m=p.default.init;p.default.init=function(t){for(var e="width=device-width, initial-scale=1",n=window.document.getElementsByTagName("meta"),o=!1,a=0;a<n.length;a++){var s=n[a];if("viewport"===s.name){var u=s.getAttribute("content");(!u||-1===u.indexOf(e)&&-1===u.indexOf("width"))&&s.setAttribute("content",e),o=!0;break}}if(!o){var c=window.document.createElement("meta");c.setAttribute("name","viewport"),c.setAttribute("content",e),window.document.head.appendChild(c)}var l=r.dot(t.context||{}),f=Object.keys(l),d=new i.default(window.location.href,!0);t.api||(t.api={});for(var h=0;h<f.length;h++){var v=f[h],b="qb.".concat(v),y=b.replace(/\./g,"_"),w=l[v];void 0!==d.query[b]&&(w=JSON.parse(d.query[b]),r.str(v,w,t.context)),t.api[y]=function(t,e,n,o){o({base:n.html,content:e},!0)}.bind(undefined,v,w)}var S={onSave:function(t,e,n,o){if(e){var i=p.default.options.saveUrl;if(t.responseId=e,o&&window.navigator&&window.navigator.sendBeacon){var r=new Blob([(Object.toJSON||JSON.stringify)(t)],{type:"text/plain"});window.navigator.sendBeacon(i,r),n&&n()}else g(i,(function(){n&&n()}),t,{"Content-Type":"application/json"})}else n&&n()},onUpdate:function(t,e,n){if(e){var o=p.default.options.updateUrl;t.responseId=e,g(o,(function(){n&&n()}),t,{"Content-Type":"application/json"})}else n&&n()}};for(var k in t)"onSave"!==k&&"onUpdate"!==k&&S[k]||(S[k]=t[k]);t.onSave&&!t.onUpdate&&delete S.onUpdate,m(S)};n.default=p.default},{"../../../server/public/quriobot/assets/js/QuriobotWidget":4,"./store":2,async:5,"dot-object":8,"exit-intent-mobile":9,flat:10,"js-cookie":12,tinycon:23,"url-parse":24}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=c(t("store/src/store-engine")),i=c(t("store/storages/localStorage")),r=c(t("store/storages/cookieStorage")),a=c(t("store/storages/memoryStorage")),s=c(t("store/plugins/defaults")),u=c(t("store/plugins/expire"));function c(t){return t&&t.__esModule?t:{default:t}}var l=[i.default,r.default,a.default],f=[s.default,u.default],p=o.default.createStore(l,f);p.addPlugin((function(){return{set:function(t,e,n){try{return t()}catch(e){return this.clearAll(),t()}}}}));n.default=p},{"store/plugins/defaults":16,"store/plugins/expire":17,"store/src/store-engine":18,"store/storages/cookieStorage":20,"store/storages/localStorage":21,"store/storages/memoryStorage":22}],3:[function(require,module,exports){(function(qbBaseURL){(function(){"use strict";var _quriobot=_interopRequireDefault(require("./common/scripts/quriobot"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}if(void 0!==window.quriobot)throw new Error("Script is included twice!");window.botsrv=window.quriobot=_quriobot.default;var ready=function(t){if("complete"===window.document.readyState)return t();window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent?window.attachEvent("onload",t):window.onload=t},init=_quriobot.default.init;window.quriobot.init=function(qbOptions){!qbOptions&&Array.isArray(window.qbOptions)&&window.qbOptions.length&&(qbOptions=window.qbOptions[window.qbOptions.length-1]);var path="object"===_typeof(qbOptions)&&qbOptions&&qbOptions.use;if(!path&&Array.isArray(window.qbOptions)&&window.qbOptions.length&&(qbOptions=Object.assign(qbOptions,window.qbOptions[window.qbOptions.length-1],qbOptions),path=qbOptions.use),path){var baseURL=qbBaseURL,dataURL=new window.quriobot.URL("".concat(baseURL,"/qb/data2/").concat(path),!0),currentURL=new window.quriobot.URL(window.location.href,!0);if(dataURL.query=currentURL.query,dataURL.query.qbReferer=window.location.href,dataURL.query.qbVersion=(new Date).getTime(),!dataURL.query.lang&&qbOptions.language&&(dataURL.query.lang=qbOptions.language),!dataURL.query.lang){var lang=window.quriobot.store.get("qbLang-".concat(path));if(!lang){if(window.google&&window.google.translate&&window.google.translate.TranslateElement&&window.google.translate.TranslateElement.getInstance){var translateInstance=window.google.translate.TranslateElement.getInstance();if(translateInstance){var _googleLang=translateInstance.j;!_googleLang||translateInstance.B&&translateInstance.B[_googleLang]||(lang=_googleLang)}}var googleLang=_quriobot.default.Cookies.get("googtrans");!lang&&googleLang&&(lang=googleLang.split("/").pop())}lang&&(dataURL.query.lang=lang)}var dataURLString=dataURL.toString();window.quriobot.ajax(dataURLString,(function(responseText,request){if(200===request.status){var qbDATA=JSON.parse(responseText),fromServer=qbDATA,options=fromServer.widgetOptions;if("object"===_typeof(options))if(_quriobot.default.inited)console.error("Widget is already initialized, make sure that the trigger conditions for the included bots are mutially exclusive!");else{if(options.initOptions&&options.initOptions.trim())try{var initOptions=eval("(".concat(options.initOptions,")"));options=Object.assign(options,initOptions||"{}")}catch(t){console.error("Error evaluating the init options",t)}if("object"===_typeof(qbOptions)&&qbOptions)for(var opt in qbOptions)options[opt]=qbOptions[opt];options.dataUrl=dataURLString,options.loadStyles=!0,init(options)}}else console.error("Error getting the widget data:",request.status)}),null,null,{withCredentials:!0})}else{var message="path is not provided nor can be obtained from the last element of window.qbOptions!";console.error(message)}},ready((function(){Array.isArray(window.qbOptions)||(window.qbOptions=[]);for(var t=function(){var t=window.qbOptions[e];if(t.onScriptLoad)try{window[t.onScriptLoad]()}catch(t){console.error(t)}"explicit"!==t.init&&setTimeout((function(){window.quriobot.init(t||{})}),t.delay||0)},e=0;e<window.qbOptions.length;e++)t()}))}).call(this)}).call(this,"https://botsrv2.com")},{"./common/scripts/quriobot":1}],4:[function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("cross-safe-eval")(),a={options:{use:null,url:"/qb/data2/",baseUrl:"",saveUrl:"",updateUrl:"",startUrl:"",uploadUrl:"",staticUrl:"",liveChatUrl:"",createFeedbackUrl:"",knowledgeBaseSearchUrl:"",getStepOptionsUrl:"",getVariableUrl:"",startButtonTitle:"Start chatbot",language:"en",isRtl:!1,wrapper:"botwrapper",button:"botbutton",autoStart:3e3,autoStartCount:0,maxAutoStartCount:0,restoreState:!0,restartAfterClose:!0,showCloseButton:!0,autoExit:!0,version:"dev",mode:"default",position:"right",positionRtl:"right",preventExitIfIncomplete:!1,widgetCss:null,widgetBaseCss:null,widgetCustomCss:null,visitor:null,whiteLabel:!1,avatarImage:"",viewMode:"unboxed",botOffset:{top:null,bottom:null},stickyAvatarOffset:{bottom:null},stickyAvatarPopup:{showAfterClose:!1,image:null,avatar:null,showOnExitIntent:null,showOnExitIntentMobile:null,showOnExitIntentTimeout:null,showOnExitIntentTimeoutMobile:null,faviconBubble:!0},soundNotifications:{},liveChat:null,openOnExitIntent:null,openOnExitIntentMobile:null,openOnExitIntentTimeout:null,openOnExitIntentTimeoutMobile:null,recaptchaSiteKey:null,loadStyles:!0,init:null,onScriptLoad:null,context:null,botData:null,showStickyAvatar:"always",ga:!1,gaEvents:!1,gtmEvents:!1,gtmURL:"https://www.googletagmanager.com",gaIncludeEvents:[],gtmIncludeEvents:[],preload:!1,branding:{},disableRedo:!1,removeHistoryOnRedo:!1,feedbackMode:"enabled_all",expiryTimeout:1,visitorTimeout:14,useDynamicTranslation:!1,idleStep:void 0,i18n:{accessibility:{button:"Press this button to turn on accessibility mode"},branding:{title:"Create your own quriobot",url:"https://quriobot.com?utm_source=qb_widget"},foldOut:{close:"Close"},footer:{close:{title:"Close"},more:{title:"More"},restart:{title:"Restart"},settings:{botPosition:{center:"Center",full_width:"Full width",label:"Position",left:"Left",right:"Right"},botResponds:"Bot responds",title:"Settings"},terms:{title:"Terms and conditions"}},notification:{preview:{title:"Preview mode"}},redo:{button:{title:"Redo"}}},entryPoint:null,behaviours:[],onAnswer:function(t,e,n){},onAnswerRedo:function(t,e,n){},onExit:function(t){},onFinish:function(t){},onLeave:function(t){},onRedo:function(t,e,n){},onReturn:function(t){},onValidate:function(t,e){e(!0)},onSave:function(t,e,n){n()},onUpdate:function(t,e,n){n()},onLoad:function(t){},onQuestion:function(t,e){},onLiveChat:function(t,e){},onLiveChatMessageCreated:function(t){},onLiveChatHandedOverToBot:function(t){},onLiveChatClosed:function(t){},onLiveChatReopened:function(t){},onLiveChatMinimized:function(t){},onInit:function(){},onStart:function(t){},onSoftStart:function(){},onHide:function(){},onShow:function(){},onRedirect:function(t,e){}},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isTablet:function(){return/iPad/i.test(navigator.userAgent)},preventAutoStart:function(){a.autoallowed=!1},allowAutoStart:function(){a.autoallowed=!0,a.autostart()},setCookie:function(t,e,n,o){t=t+"-"+this.options.use;var i=this.options.visitor;!o&&i&&i.id&&(t=t+"-"+i.id),a.store.get(t)!==e&&a.store.set(t,e,n)},deleteCookie:function(t){t=t+"-"+this.options.use;var e=this.options.visitor;e&&e.id&&(t=t+"-"+e.id),a.store.remove(t)},getCookie:function(t,e,n){if(t=t+"-"+this.options.use,!n){var o=this.options.visitor;o&&o.id&&(t=t+"-"+o.id)}return a.store.defaults(i({},t,e)),a.store.get(t)},shouldAutoStart:function(t){var e=parseInt(a.getCookie("qbStartCount","0",!0)),n=a.getCookie("qbClosed",!1,!0),o=a.getCookie("qbPopupClosed",!1,!0);a.autoStart=("number"==typeof a.options.autoStart||"boolean"==typeof a.options.autoStart&&a.options.autoStart||t)&&(!a.options.autoStartCount||e>=a.options.autoStartCount)&&(!a.options.maxAutoStartCount||e<a.options.maxAutoStartCount)&&(a.options.restartAfterClose||!n&&!o);var i=a.getRestoreData();return(a.autoStart||a.shouldRestoreState(i)&&i&&!a.isMobile()&&(i.followRedirect||i.isOpen&&i.answers&&i.answers.length))&&!a.hasstarted&&a.autoallowed},autoStartCount:function(){var t=parseInt(a.getCookie("qbStartCount","0",!0));t++,a.setVisitorCookie("qbStartCount",t,!0)},autostart:function(){if("outOfQuota"!==a.options.mode){if(a.options.openOnExitIntent||a.options.openOnExitIntentMobile)a.exitIntent({maxDisplays:1,eventThrottle:200,showAfterInactiveSecondsDesktop:a.options.openOnExitIntent?a.options.openOnExitIntentTimeout/1e3:void 0,showAfterInactiveSecondsMobile:a.options.openOnExitIntentMobile?a.options.openOnExitIntentTimeoutMobile/1e3:void 0,showAgainAfterSeconds:10,onExitIntent:function(){a.shouldAutoStart(!0)&&(a.autoStartCount(),a.soundNotification("start"),a.start())},debug:!1});if(a.initIdleStepAnimation(),a.shouldAutoStart()){var t=!0===a.options.autoStart?1500:a.options.autoStart;setTimeout((function(){a.shouldAutoStart()&&(a.autoStartCount(),a.soundNotification("start"),a.start())}),t)}}},buttonstart:function(){var t=a.button;if(!1!==a.options.button){a.isMobile();var e=a.options.stickyAvatarPopup.showOnHover;e||t.addEventListener("click",(function(e){t.classList.contains("showPopup")||e.target.id!==a.options.button||a.start()})),a.popupButton&&a.popupButton.addEventListener("click",(function(n){"quriobotPopupButton"===n.target.id&&(a.start(),a.button.classList.contains("showPopup")&&(t.classList.remove("showPopup"),a.button.setAttribute("aria-expanded",!1)),e&&t.classList.add("hoverModeOn"),a.popupClose&&!a.isMobile()&&(a.popupClose.parentNode.removeChild(a.popupClose),a.popupClose=void 0))}))}},avatarPopupClose:function(){var t=a.button;a.popupClose&&a.popupClose.addEventListener("click",(function(){a.setVisitorCookie("qbPopupClosed",!0,!0),t.classList.remove("showPopup"),t.setAttribute("aria-expanded",!1),setTimeout((function(){a.options.stickyAvatarPopup.showOnHover&&t.classList.add("hoverModeOn"),!a.isMobile()&&a.popupClose&&(a.popupClose.parentNode.removeChild(a.popupClose),a.popupClose=void 0)}),1e3)}))},popupAutoShown:!1,showPopup:function(t){var e=document.getElementById("quriobotPopupTitle"),n=document.getElementById("quriobotPopupButton");this.populateValues(e&&e.dataset.content,function(o,i){e&&(e.innerHTML=i),this.populateValues(n&&n.dataset.content,function(e,o){n&&(n.innerHTML=o),this.onPopup(t),a.button.classList.add("showPopup"),t&&a.button.classList.remove("hoverModeOn"),a.button.setAttribute("aria-expanded",!0),a.Tinycon&&"function"==typeof a.Tinycon.setBubble&&!1!==a.options.stickyAvatarPopup.faviconBubble&&a.Tinycon.setBubble(a.liveChatMessageUnread+1)}.bind(this))}.bind(this))},popupAutoShow:function(){if(!a.isOpen){a.show(!0);var t=a.options.stickyAvatarPopup,e=a.button,n=a.getCookie("qbPopupClosed",!1,!0),o=a.getCookie("qbClosed",!1,!0);if(t.autoShow&&e.classList.contains("show")&&(t.showAfterClose||!n&&!o)&&setTimeout((function(){a.showPopup(!0)}),void 0===t.autoShowTimeout?3e3:t.autoShowTimeout),t.showOnExitIntent||t.showOnExitIntentMobile)var i=a.exitIntent({maxDisplays:1,eventThrottle:200,showAfterInactiveSecondsDesktop:t.showOnExitIntent?t.showOnExitIntentTimeout/1e3:void 0,showAfterInactiveSecondsMobile:t.showOnExitIntentMobile?t.showOnExitIntentTimeoutMobile/1e3:void 0,showAgainAfterSeconds:10,onExitIntent:function(){a.showPopup(!0),i()},debug:!1})}},showPopupHandle:function(){var t=a.button,e=a.options.stickyAvatarPopup.showOnHover;if(!1!==a.options.button&&e)if(a.isMobile())t.addEventListener("click",(function(e){t.classList.contains("showPopup")||"quriobotPopupClose"===e.target.id||a.showPopup()}));else{var n=function(e){!t.classList.contains("showPopup")&&t.classList.contains("hoverModeOn")&&a.showPopup()};t.addEventListener("mouseenter",n),t.addEventListener("click",n),t.addEventListener("mouseleave",(function(e){t.classList.contains("showPopup")&&t.classList.contains("hoverModeOn")&&(t.classList.remove("showPopup"),t.setAttribute("aria-expanded",!1))}))}},getLangStorageKey:function(){var t="qbLang-"+this.options.use,e=this.options.visitor;return e&&(t=t+"-"+e.id),t},changePosition:function(t){switch(a.button.classList.remove("position--left"),a.container.classList.remove("position--left"),a.button.classList.remove("position--center"),a.container.classList.remove("position--center"),a.button.classList.remove("position--full_width"),a.container.classList.remove("position--full_width"),t){case"left":a.button.classList.add("position--left"),a.container.classList.add("position--left");break;case"center":a.button.classList.add("position--center"),a.container.classList.add("position--center");break;case"full_width":a.button.classList.add("position--full_width"),a.container.classList.add("position--full_width")}a.message.send("changePosition",t)},modal:function(t){a.container.className=t?a.container.className+" modal--opened":a.container.className.replace(/\s*modal--opened/g,""),a.message.send("modal",t)},addOffset:function(){if(a.options.botOffset){var t=a.options.botOffset.top,e=a.options.botOffset.bottom,n=a.container;(t||e)&&(n.style.setProperty("top",t?t.value+t.units:0,"important"),n.style.setProperty("bottom",e?e.value+e.units:0,"important"),n.style.setProperty("height","auto","important"))}},addAvatarOffset:function(){if(a.options.stickyAvatarOffset&&a.button){var t=a.options.stickyAvatarOffset.bottom,e=window.innerHeight-100;t&&a.button.style.setProperty("bottom",(t.value+100>e?e:t.value)+t.units,"important")}},elementIsVisibleInViewport:function(t,e){var n=t.getBoundingClientRect(),o=n.top,i=n.left,r=n.bottom,a=n.right,s=window,u=s.innerHeight,c=s.innerWidth,l=o>=0&&i>=0&&r<=u&&a<=c;return e&&((o>0&&o<u||r>0&&r<u)&&(i>0&&i<c||a>0&&a<c))||l},evaluateCondition:function(t,e){var n=!1;if(!t.rules)return n;for(var o=0;o<t.rules.length;o++){var i=t.rules[o],r=!1;if(i.combinator)r=this.evaluateCondition(i,e);else{var s=i.field;if(!s)continue;var u=e[s],c=i.value;switch(s){case"elementVisible":var l=document.querySelector(c);if(l)a.elementIsVisibleInViewport(l,!0)&&(u=c);break;case"timeSinceInit":u=((new Date).getTime()-a.initedAt)/1e3;break;case"dayOfWeek":u=(new Date).getDay()+1;break;case"timeOfDay":u=(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});break;case"dayOfMonth":u=(new Date).getDate();break;case"deviceType":u=a.isMobile()?"mobile":a.isTablet()?"tablet":"desktop";break;case"month":u=(new Date).getMonth()+1;break;case"pageHostName":u=window.location.hostname;break;case"pagePath":u=window.location.pathname;break;case"pageURL":u=window.location.href;break;case"visitCount":u=a.getCookie("qbStartCount","0",!0);break;case"isReturning":u=a.getCookie("qbStartCount","0",!0)>1}switch(i.operator){case"=":r=u==c;break;case"!=":r=u!=c;break;case"<":r=u<c;break;case"<=":r=u<=c;break;case">":r=u>c;break;case">=":r=u>=c;break;case"startsWith":r=u.startsWith(c);break;case"notStartsWith":r=!u.startsWith(c);break;case"endsWith":r=u.endsWith(c);break;case"notEndsWith":r=!u.endsWith(c);break;case"matchesRegEx":r=new RegExp(c).test(u);break;case"notMatchesRegEx":r=!new RegExp(c).test(u);break;case"iMatchesRegEx":r=new RegExp(c,"i").test(u);break;case"notIMatchesRegEx":r=!new RegExp(c,"i").test(u);break;case"in":r=c.includes(u);break;case"notIn":r=!c.includes(u)}}"AND"==t.combinator.toUpperCase()?(0==o&&(n=!0),n=n&&r):(0==o&&(n=!1),n=n||r)}return n},applyBehaviour:function(t){var e=document.getElementById("quriobotWidgetDynamicStyles"),n=t.stickyAvatarPopup;if(n&&n.button&&(n.showOnHover||n.autoShow||n.showOnExitIntent||n.showOnExitIntentMobile)){var o=document.getElementById("quriobotPopupButton"),i=document.getElementById("quriobotPopupTitle");e&&n.avatar&&(e.textContent+="\n.quriobotWidgetButton.showPopup:before { background-image: url('"+n.avatar+"') !important; }"),o&&(o.dataset.content=n.button),i&&(i.dataset.content=n.title)}e&&(t.stickyAvatar&&(e.textContent+="\n.quriobotWidgetButton:before { background-image: url('"+t.stickyAvatar+"') !important; }"),t.stickyAvatarBackground&&(e.textContent+="\n.quriobotWidgetButton { background-color: "+t.stickyAvatarBackground+" !important; }"),!1===t.stickyAvatarShadow&&(e.textContent+="\n.quriobotWidgetButton { box-shadow: none !important; }")),t.position&&t.position!==a.options.position&&a.changePosition(t.position),a.options=Object.assign(a.options,t),a.message.send("newBot",{options:a.options}),a.popupAutoShow(),a.autostart()},load:{styles:function(){var t;a.options.loadStyles&&(document.head.insertAdjacentHTML("beforeend",a.options.widgetBaseCss),a.children.push(document.head.lastChild),a.options.widgetCustomCss&&((t=document.createElement("style")).innerHTML=a.options.widgetCustomCss,a.children.push(t),document.head.appendChild(t)),a.options.widgetCss&&((t=document.createElement("link")).type="text/css",t.rel="stylesheet",t.href=a.options.baseUrl+a.options.widgetCss+"?v="+a.options.version,a.children.push(t),document.head.appendChild(t)),(t=document.createElement("style")).id="quriobotWidgetDynamicStyles",a.children.push(t),document.head.appendChild(t));if(a.options.avatarImage){var e=document.createElement("style");a.options.avatarImage&&(e.innerHTML+=".quriobotWidgetButton:before { background-image: url('"+a.options.avatarImage+"') !important; }\n",e.innerHTML+=".fold-out__avatar { background-image: url('"+a.options.avatarImage+"') !important; }\n",e.innerHTML+=".#content #message a.use-bot span { background-image: url('"+a.options.avatarImage+"') !important; }\n"),document.head.appendChild(e)}},constAllowIframe:"accelerometer; autoplay; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; magnetometer; microphone; midi; payment; picture-in-picture; usb; xr-spatial-tracking",widget:function(){var t=document.body,e=document.createElement("div");switch(e.id="quriobotWidgetContainer",e.className="quriobotWidgetContainer",e.style.setProperty("opacity",0),e.setAttribute("inert",!0),"boxed"===a.options.viewMode&&(e.className+=" viewMode--boxed"),a.options.position){case"left":e.className+=" position--left";break;case"center":e.className+=" position--center";break;case"full_width":e.className+=" position--full_width"}if("outOfQuota"!==a.options.mode){var n=document.createElement("div");n.insertAdjacentHTML("beforeend",a.options.dll);var o=document.createElement("script");o.type=n.lastChild.type,o.src=n.lastChild.src,o.innerHTML=n.lastChild.innerHTML,o.setAttribute("integrity",n.lastChild.getAttribute("integrity")),o.setAttribute("crossorigin",n.lastChild.getAttribute("crossorigin")),o.onload=function(){var n=document.createElement("iframe");if(n.id=a.options.wrapper,n.className="quriobotWidget",n.src=a.options.baseUrl+"/bot",a.options.staticUrl){var o=new a.URL(n.src,!0);o.query.staticURL=a.options.staticUrl,o.query.lang=a.options.language,n.src=o.toString()}n.setAttribute("frameborder","0"),n.setAttribute("role","dialog"),n.setAttribute("allow",this.constAllowIframe),a.frame=n,e.appendChild(n);var i,r=a.options.language,s=a.numeral.locales;if(s&&s[r])i=r;else{var u=r&&r.split("-")[0];s&&s[u]&&(i=u)}if(i&&a.numeral.locale(i),t.appendChild(e),a.children.push(e),a.wrapper=document.getElementById(a.options.wrapper),a.container=e,a.options.useDynamicTranslation){var c=document.querySelectorAll("#gtranslate_wrapper .switcher .selected, .goog-te-menu-value")[0];c&&c.addEventListener("DOMSubtreeModified",(function(){a.inited&&(a.inited=!1,a.initedAt=null,setTimeout((function(){var t;a.destroy();var e=window.google.translate.TranslateElement.getInstance();if(e){var n=e.j;!n||e.B&&e.B[n]||(t=n)}a.init({language:t})}),1e3))}))}a.load.foldOut(),a.addOffset()}.bind(this),document.head.appendChild(o)}},behaviours:function(){for(var t=function(){var t=a.options.behaviours[e],n=setInterval((function(){a.evaluateCondition(t.condition,{})&&(clearInterval(n),a.applyBehaviour(t))}),1e3)},e=0;e<a.options.behaviours.length;e++)t()},button:function(){if(!1!==a.options.button){var t=a.options.stickyAvatarPopup,e=t&&t.button&&(t.showOnHover||t.autoShow||t.showOnExitIntent||t.showOnExitIntentMobile),n=document.createElement("button");n.id=a.options.button,n.className="quriobotWidgetButton",n.style.setProperty("display","none"),a.options.startButtonTitle&&n.setAttribute("aria-label",a.options.startButtonTitle),n.setAttribute("tabindex","0"),e?(n.setAttribute("role","button"),n.setAttribute("aria-haspopup","dialog"),n.setAttribute("aria-expanded",!1)):n.setAttribute("role","button");var o=document.createElement("div");if(e&&(o.id=o.className="quriobotWidgetPopup",n.appendChild(o)),t&&t.showOnHover&&(n.className+=" hoverModeOn"),t&&t.title){var i=document.createElement("p");i.id="quriobotPopupTitle",i.className="quriobotWidgetPopup--title",i.dataset.content=t.title,o.appendChild(i)}if(e){var r=document.createElement("button");r.className="quriobotWidgetPopup--button",r.id="quriobotPopupButton",r.setAttribute("role","button"),r.setAttribute("tabindex","0"),r.dataset.content=t.button,o.appendChild(r);try{o.childNodes[0].nodeValue=null}catch(t){}}if(t&&(t.autoShow||a.isMobile()||t.showOnExitIntent||t.showOnExitIntentMobile)){var s=document.createElement("button");s.className="quriobotWidgetPopup--close",s.id="quriobotPopupClose",s.setAttribute("aria-label",a.options.i18n.foldOut.close),o.appendChild(s)}switch(a.options.position){case"left":n.className+=" position--left";break;case"center":n.className+=" position--center";break;case"full_width":n.className+=" position--full_width"}a.children.push(n),document.body.appendChild(n),e&&(a.popupButton=document.getElementById("quriobotPopupButton"),a.popupClose=document.getElementById("quriobotPopupClose")),a.button=document.getElementById(a.options.button)}},videoIframe:function(){var t=a.options.background&&a.options.background.video;if(t){var e=document.getElementById("videoIframe");if(e){var n=document.getElementById("wallpaper"),o=t.id,i=t.dimensions,r=i.width/i.height;a.ytPlayer=new window.YT.Player("videoIframe",{videoId:o,playerVars:{autoplay:1,controls:0,loop:1,rel:0,playlist:o,playsinline:1},events:{onReady:function(t){s(),t.target.mute(),t.target.playVideo()},onStateChange:function(t){switch(t.data){case-1:n.classList.remove("loading");break;case 1:setTimeout((function(){n.classList.add("loading")}),1e3)}}}});var s=function(){var t=window.innerWidth,e=window.innerHeight,n=t/e>r,o=n?t:e*r,i=n?t/r:e;a.ytPlayer.setSize(o,i)};window.addEventListener("resize",s)}}},foldOut:function(){var t='<div class="fold-out" id="quriobotWidgetFoldOut">    <div class="fold-out__wrapper">        <div class="fold-out__header">            <div class="fold-out__avatar"></div>            <a class="fold-out__title" target="_blank" rel="noopener noreferrer"></a>            <button type="button" class="fold-out__close" title="'+a.options.i18n.foldOut.close+'"></button>        </div>        <div class="fold-out__iframe-wrapper">            <iframe class="fold-out__iframe" allow="'+this.constAllowIframe+'"></iframe>        </div>    </div></div>';document.getElementById("quriobotWidgetContainer").insertAdjacentHTML("beforeend",t)},whiteLabel:function(){var t=a.options.whiteLabel,e=a.options.stickyAvatarPopup;if(!t&&e&&!a.options.branding.url&&!a.options.branding.title){var n=document.createElement("a"),o=document.getElementById("quriobotWidgetPopup");o&&(n.className="brandingLabel",n.href=a.getBrandingURL(),n.target="_blank",n.rel="noopener noreferrer",n.textContent=a.getBrandingTitle(),o.appendChild(n))}},warning:function(){console&&console.log&&console.log("Your browser is outdated, please use a modern one of the recent version.")}},getBrandingURL:function(){var t=new a.URL(a.options.branding&&a.options.branding.url||a.options.i18n.branding.url,!0);return t.query.referer=a.options.referer,t.toString()},getBrandingTitle:function(){return a.options.branding&&a.options.branding.title||a.options.i18n.branding.title},setOptions:function(t){if(t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a.options[e]=t[e])},handleUserAction:function(t){var e=a.storedData.start?a.storedData.start:(new Date).toISOString(),n=["finish","liveChat"],o=n.indexOf(t.type)>-1?(new Date).toISOString():null;if(a.storedData={answers:t.answers,info:t.info,user:Object.assign({},a.options.visitor,{language:a.options.language}),name:a.options.use,isComplete:t.isComplete,hasLiveChat:t.hasLiveChat,start:e,stop:o,responseId:t.responseId},t.variables&&(this.variables=t.variables),"validate"===t.type)this.options.onValidate(a.storedData,(function(t,e,n){a.message.send("validate",{valid:t,errors:e,responses:n})}));else if(n.indexOf(t.type)>-1&&!a.exited){a.exited=!0;var i=function(){a.clearSavedBot(),a.message.send(t.type,{type:t.type})};this.options.onSave.length>2?this.options.onSave(a.storedData,t.responseId,i):(this.options.onSave(a.storedData,t.responseId),setTimeout((function(){i()}),0))}else{var r=t.type.toString();r="on"+r.substr(0,1).toUpperCase()+r.substr(1);try{a[r](a.storedData,t.question,t.answer)}catch(t){console&&console.warn(t)}}},handleExit:function(t,e){if(a.hasstarted){var n=a.storedData;if(n.answers&&n.answers.length&&!n.isComplete&&a.options.preventExitIfIncomplete&&!a.redirect&&!e&&a.isOpen){var o=n.answers&&n.answers.length?n.answers.filter((function(t){var e;return"message"!==(null==t||null===(e=t.question)||void 0===e||null===(e=e.type)||void 0===e?void 0:e.name)})):null;if(n&&o&&o.length&&!a.switched)return t&&(t.returnValue="Changes that you made may not be saved."),void(a.container.className.indexOf("show")<0&&a.show_frame())}if(n.stop=n.stop?n.stop:(new Date).toISOString(),a.storedData=n,!(n.isComplete||a.exited||a.followRedirect||a.options.restoreState)){a.exited=!0;var i=function(){try{a.onExit(n)}catch(t){console.log(t)}a.message.send("exit")};this.options.onSave.length>2?this.options.onSave(n,n.responseId,i,e):(this.options.onSave(n,n.responseId),setTimeout((function(){i()}),0))}a.followRedirect=!1}},reportGA:function(t,e){e&&(e={value:e.value,text:e.text,start:e.start,stop:e.stop,question:{type:e.question&&e.question.type}});var n,o,i=t.split("/")[0].toLowerCase();if(a.options.ga){var r="/virtual/"+a.options.use+"/"+t;if(window.ga&&"function"==typeof window.ga.getAll&&(n=window.ga.getAll()))for(o=n.length-1;o>=0;o--)n[o].send({hitType:"pageview",page:r});window.gtag&&"function"==typeof window.gtag&&window.gtag("event","page_view",{page_location:r,page_path:r,page_title:t})}if(a.options.gaEvents&&(!a.options.gaIncludeEvents||!a.options.gaIncludeEvents.length||a.options.gaIncludeEvents.indexOf(i)>-1)){if(window.ga&&"function"==typeof window.ga.getAll&&(n=window.ga.getAll()))for(o=n.length-1;o>=0;o--){var s={hitType:"event",eventCategory:"QB",eventAction:t,eventLabel:a.options.use};if(e&&e.value&&("number"==typeof e.value.value&&Number.isInteger(e.value.value)&&(s.eventValue=e.value.value),"string"==typeof e.value.value)){var u=parseInt(e.value.value,10);Number.isInteger(u)&&(s.eventValue=u)}n[o].send(s)}if(window.gtag&&"function"==typeof window.gtag){s={bot:a.options.use,action:t};e&&(s.answer=e),s=a.flatten.flatten(s,{delimiter:"_"}),window.gtag("event","QB",s)}}if(a.options.gtmEvents&&(!a.options.gtmIncludeEvents||!a.options.gtmIncludeEvents.length||a.options.gtmIncludeEvents.indexOf(i)>-1)){var c=[].filter.call(document.getElementsByTagName("script"),(function(t){return t.src&&t.src.startsWith(a.options.gtmURL)})),l=c.length&&new a.URL(c[0].src,!0).query.l||"dataLayer";if(l&&window[l]){s={event:"QB",bot:a.options.use,action:t};e&&(s.answer=e),window[l].push(s)}}window.parent!==window&&window.parent.postMessage&&window.parent.postMessage({sentinel:"amp",type:"qb",qb:{name:t,path:a.options.use}},"*")},onLoad:function(t){this.reportGA("Load"),this.variables=t.variables,this.landingPage=t.landing_page,this.options.botData=t;try{a.options.onLoad(t)}catch(t){console.log(t)}},onInit:function(){this.reportGA("Init");try{a.options.onInit()}catch(t){console.log(t)}},onPopup:function(t){t&&(this.popupAutoShown=!0,this.soundNotification("popup")),this.reportGA("SoftStart");try{a.options.onSoftStart()}catch(t){console&&console.warn(t)}},onShow:function(){this.reportGA("Show");try{a.options.onShow()}catch(t){console&&console.warn(t)}},onHide:function(){this.reportGA("Hide");try{a.options.onHide()}catch(t){console&&console.warn(t)}},onStart:function(t){this.handleStart(),this.saveResponseId(t.responseId),a.switched&&(this.switched=!1,this.initLandingPage()),a.ytPlayer&&a.landingPage.background&&a.landingPage.background.video&&(a.landingPage.background.video.muted?a.ytPlayer.mute():a.ytPlayer.unMute()),this.reportGA("Start");try{a.options.onStart(t)}catch(t){console&&console.warn(t)}},onQuestion:function(t,e){this.reportGA("Question/"+e.code_name);try{a.options.onQuestion(t,e)}catch(t){console&&console.warn(t)}},onAnswer:function(t,e,n){if(e){this.reportGA("Answer/"+e.code_name,n),e.type&&"message"!==e.type.name&&this.soundNotification("answer");try{a.options.onAnswer(t,e,n)}catch(t){console&&console.warn(t)}}this.options.onUpdate(a.storedData,a.storedData.responseId,(function(){}))},onAnswerRedo:function(t,e,n){this.reportGA("Answer_edit_finish/"+e.code_name);try{a.options.onAnswerRedo(t,e,n)}catch(t){console&&console.warn(t)}},onFinish:function(t){this.reportGA("Finish");try{a.options.onFinish(t)}catch(t){console&&console.warn(t)}},onLeave:function(t){this.reportGA("Leave");try{a.options.onLeave(t)}catch(t){console&&console.warn(t)}},onRedo:function(t,e,n){this.reportGA("Answer_edit_start/"+e.code_name);try{a.options.onRedo(t,e,n)}catch(t){console&&console.warn(t)}},onReturn:function(t){this.reportGA("Return");try{a.options.onReturn(t)}catch(t){console&&console.warn(t)}},onExit:function(){this.reportGA("Exit");try{a.options.onExit()}catch(t){console&&console.warn(t)}},onLiveChat:function(t){this.reportGA("LiveChat");try{a.options.onLiveChat(t)}catch(t){console&&console.warn(t)}},onRedirect:function(t){this.reportGA("Redirect",{value:{value:t},text:t});try{a.options.onRedirect(t,this.storedData)}catch(t){console&&console.warn(t)}},getRestoreStorageKey:function(t,e){t||(t=a.options.use);var n="qbStoredData-"+t,o=a.options.visitor;return o&&(n=n+"-"+o.id),e&&(n=n+"-"+e),n},saveResponseId:function(t){a.setCookie("qbResponseId",t),a.options.visitor||(a.options.visitor={}),a.options.visitor.id||(a.setCookie("qbVisitorId",t),a.options.visitor.id=t,a.setCookie("qbResponseId",t))},getStoredResponseId:function(){return a.getCookie("qbResponseId")||""},getStoredVisitorId:function(){return a.getCookie("qbVisitorId",void 0,!0)},clearSavedResponseId:function(){a.deleteCookie("qbResponseId")},saveLiveChat:function(t){a.setCookie("qbLiveChat",!0)},liveChatCreated:function(t){a.setCookie("qbLiveChatId",t.id)},liveChatMessageUnread:0,liveChatMessageCreated:function(t){!a.tabIsVisible&&a.Tinycon&&"function"==typeof a.Tinycon.setBubble&&(a.liveChatMessageUnread++,a.Tinycon.setBubble(a.liveChatMessageUnread)),a.onLiveChatMessageCreated(t)},onLiveChatMessageCreated:function(t){this.reportGA("LiveChatMessageCreated");try{a.options.onLiveChatMessageCreated(t)}catch(t){console.log(t)}},liveChatHandedOverToBot:function(t){a.clearSavedLiveChat(),a.onLiveChatHandedOverToBot(t)},onLiveChatHandedOverToBot:function(t){this.reportGA("LiveChatHandedOverToBot");try{a.options.onLiveChatHandedOverToBot(t)}catch(t){console.log(t)}},liveChatMinimized:function(t){a.onLiveChatMinimized(t)},onLiveChatMinimized:function(t){this.reportGA("LiveChatMinimized");try{a.options.onLiveChatMinimized(t)}catch(t){console.log(t)}},liveChatClosed:function(t){a.onLiveChatClosed(t)},onLiveChatClosed:function(t){this.reportGA("LiveChatClosed");try{a.options.onLiveChatClosed(t)}catch(t){console.log(t)}},liveChatReopened:function(t){a.onLiveChatReopened(t)},onLiveChatReopenedBot:function(t){this.reportGA("LiveChatReopened");try{a.options.onLiveChatReopened(t)}catch(t){console.log(t)}},attachTabVisibility:function(){var t,e,n={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(var o in n)if(o in document){e=o,t=n[o];break}document.addEventListener(t,this.handleTabVisibility.bind(this,e))},tabIsVisible:!0,handleTabVisibility:function(t,e){a.tabIsVisible=!e.target[t],a.tabIsVisible&&(a.liveChatMessageUnread=0,a.Tinycon&&"function"==typeof a.Tinycon.reset&&a.Tinycon.reset())},getStoredLiveChatId:function(){return a.getCookie("qbLiveChatId")||""},getStoredLiveChat:function(){return a.getCookie("qbLiveChat")},clearSavedLiveChat:function(){a.deleteCookie("qbLiveChat"),a.deleteCookie("qbLiveChatId"),a.clearSavedResponseId()},shouldLiveChat:function(t){return"preview"!==a.options.mode&&Boolean(a.getStoredResponseId()&&a.getStoredLiveChat())},hasStoredBot:function(){return Boolean(a.store.get(a.getRestoreStorageKey()))},saveBot:function(t){var e=new Date(Date.now()+60*a.options.expiryTimeout*60*1e3).valueOf();t.isOpen=a.isOpen,t.language=a.options.language,t.hasSwitchedLanguage=a.hasSwitchedLanguage,a.store.set(a.getRestoreStorageKey(t.use),t,e)},getRestoreData:function(){return a.store.get(a.getRestoreStorageKey())},clearSavedBot:function(){if(a.store)try{a.store.remove(a.getRestoreStorageKey())}catch(t){console.log(t)}},message:{receive:function(t){if(a.frame&&a.frame.contentWindow&&t.source===a.frame.contentWindow&&"string"==typeof t.data&&t.data){var e;try{e=JSON.parse(t.data)}catch(t){return}switch(e.action){case"checkNestedFrameRequest":a.checkNestedFrameRequest(t.origin);break;case"checkNestedFrameResponse":a.checkNestedFrameResponse();break;case"api":a.handleApiCall(e);break;case"hide":a.hide_frame();break;case"clearSavedBot":a.clearSavedBot();break;case"clearSavedLiveChat":a.clearSavedLiveChat();break;case"stop":case"done":try{a.onFinish(a.storedData)}catch(t){console.log(t)}a.hide_frame(),a.clearSavedLiveChat(),setTimeout((function(){a.message.send("purge"),a.activebot=null}),500);break;case"botHasData":a.botStatus.hasData=!0;try{a.onLoad(e.data)}catch(t){console.log(t)}break;case"botIsReady":a.botStatus.isReady=!0,a.message.send("requestNewBot");break;case"changePosition":a.changePosition(e.data);break;case"modal":a.modal(e.data);break;case"foldOutOpen":a.foldOutOpen(!0,e.data);break;case"foldOutClose":a.foldOutClose(e.data);break;case"navigate":parent.location.href=e.url;break;case"user":a.handleUserAction(e.data);break;case"redirect":a.handleRedirect(e.data);break;case"switch":e.data.language&&(a.hasSwitchedLanguage=!0),a.start(e.data.use,e.data.language);break;case"change":a.change(e);break;case"execute":a.execute(e);break;case"populateValues":a.populateValues(e.data);break;case"populateURL":a.requestPopulateURL(e.data);break;case"getStepOptions":a.getStepOptions(e.data.script,e.data.input,(function(t){a.message.send("getStepOptions",t)}));break;case"validateAnswer":a.validateAnswer(e.data.script,e.data.answer,(function(t){a.message.send("validateAnswer",t)}));break;case"getStepSettingsScript":a.getStepSettingsScript(e.data.script,(function(t){a.message.send("getStepSettingsScript",t)}));break;case"saveBot":a.saveBot(e.data);break;case"liveChat":a.saveLiveChat(e.data);break;case"liveChatCreated":a.liveChatCreated(e.data);break;case"liveChatMessageCreated":a.liveChatMessageCreated(e.data);break;case"liveChatHandedOverToBot":a.liveChatHandedOverToBot(e.data);break;case"liveChatClosed":a.liveChatClosed(e.data);break;case"liveChatMinimized":a.liveChatMinimized(e.data);break;case"liveChatReopened":a.liveChatReopened(e.data);break;case"goto":a.goto(e.data.key)}}},send:function(t,e){var n;switch(t){case"requestNewBot":n={action:"newBot",options:(Object.toJSON||JSON.stringify)(a.options)};break;case"startBot":n={action:"startBot",data:e};break;case"changePosition":n={action:"changePosition",data:e};break;case"modal":n={action:"modal",data:e};break;case"api":n={action:"api",data:e};break;case"goto":n={action:"goto",key:e};break;case"validate":n={action:"validate",data:e};break;case"reload":n={action:"reload",data:e};break;case"exit":n={action:"exit"};break;case"purge":n={action:"purge"};break;case"finish":n={action:"finish",data:e};break;case"liveChat":n={action:"liveChat",data:e};break;case"getStepOptions":n={action:"getStepOptions",data:e};break;case"validateAnswer":n={action:"validateAnswer",data:e};break;case"populateValues":n={action:"populateValues",data:e};break;case"populateURL":n={action:"populateURL",data:e};break;case"getStepSettingsScript":n={action:"getStepSettingsScript",data:e};break;case"foldOutClosed":n={action:"foldOutClosed"};break;case"idleStepReturn":n={action:"idleStepReturn",data:e}}a.wrapper&&a.wrapper.contentWindow&&a.wrapper.contentWindow.postMessage((Object.toJSON||JSON.stringify)(n),"*")}},goto:function(t){a.message.send("goto",t)},handleStart:function(){a.hasstarted=!0,a.exited=!1,a.completed=!1},hasSelectedLanguage:function(){return a.hasSwitchedLanguage||a.store.get(this.getLangStorageKey())},restoreVisitor:function(){a.options.visitor||(a.options.visitor={}),a.options.visitor.id||(a.options.visitor.id=a.getStoredVisitorId())},start:function(t,e,n,o){e&&a.store.set(this.getLangStorageKey(),e),a.options.hasSelectedLanguage=a.hasSelectedLanguage(),a.options.hasSwitchedLanguage=a.hasSwitchedLanguage;var i=Boolean(t&&t!==a.options.use);n&&!i&&(a.options.entryPoint=n),a.button&&a.button.classList.add("loading");var r=a.hasstarted&&!a.switched;if(a.handleStart(),"outOfQuota"!==a.options.mode){if(a.options.useDynamicTranslation&&(a.options.documentLanguage=document.documentElement.lang),a.initBot(),a.options.language=e||a.options.language,i||e)return t=t||a.options.use,void a.switch(t,o,Boolean(e),n);if(a.options.use=t||a.options.use,a.botStatus.isReady&&a.botStatus.hasData)return clearTimeout(a.startRetry),a.container.className.indexOf("show")<0?a.activebot===a.options.use?(a.show_frame(r),void(n&&a.goto(n))):(a.completed=!1,a.activebot&&null!=a.activebot?void(a.activebot==a.options.use||a.switch(a.options.use,o,null,n)):(a.activebot=a.options.use,a.show_frame(),void(n&&a.goto(n)))):a.activebot!==a.options.use?void a.switch(a.options.use,o,null,n):void(n&&a.goto(n));a.startRetry=setTimeout((function(){a.start(t,e,n)}),50)}else window.location.href="https://quriobot.com"},hasSwitchedLanguage:!1,finish:function(t){var e={};if(!1!==t&&(this.handleExit(e),e.returnValue)){if(!confirm(e.returnValue))return;this.handleExit(e,!0)}this.hide_frame(),a.message.send("purge"),a.activebot=null,a.hasstarted=!1,a.exited=!1,a.completed=!1},switch:function(t,e,n,o){a.switched=!0,a.finish(e),a.botStatus.isReady=!1,a.botStatus.hasData=!1,a.container&&(a.container.className=a.container.className+" switch"),a.load.styles();var i=a.options.use;t&&(a.options.botData=null,a.options.use=t,a.options.id=t.split("/")[1],a.activebot=t),setTimeout((function(){if(n&&a.wrapper){var t=new a.URL(a.wrapper.src,!0);t.query.lang=a.options.language,a.wrapper.src=t.toString()}else a.message.send("reload",{isComplete:e,use:i});setTimeout((function(){a.start(null,null,o)}),100)}),0)},restart:function(){this.switch()},shouldRestoreState:function(t){return"preview"!==a.options.mode&&!a.hasSwitchedLanguage&&(t&&(t.followRedirect||a.options.restoreState))},initLandingPage:function(){a.landingPage&&a.landingPage.background&&(a.landingPage.background.image||a.landingPage.background.video)&&a.change({what:"wallpaper",to:a.landingPage.background})},setVisitorCookie:function(t,e,n){var o=a.options.visitorTimeout,i=new Date(Date.now()+24*o*60*60*1e3).valueOf();a.setCookie(t,e,i,n)},show_frame:function(t){if(a.hasstarted){a.followRedirect=!1,a.isOpen=!0;var e=a.getRestoreData();e&&a.saveBot(e),a.setVisitorCookie("qbClosed",!1,!0),!1!==a.options.button&&(a.button.className=a.button.className.replace(/\s*show\b/g,""),a.button.classList.remove("loading"),a.button.setAttribute("inert",!0)),a.container.className=a.container.className.replace(/\s*switch/g,"")+" show",a.container.removeAttribute("inert"),document.body&&document.body.oldBackgroundImage&&this.change({what:"wallpaper",to:{image:document.body.oldBackgroundImage.slice(5).slice(0,-2)}}),setTimeout((function(){if(!t){var e=a.getRestoreData();e&&(a.variables=e.variables,e.language&&(a.options.language=e.language,a.hasSwitchedLanguage||(a.hasSwitchedLanguage=e.hasSwitchedLanguage))),a.message.send("startBot",{restoreState:a.shouldRestoreState(e),restoreData:e,liveChat:a.shouldLiveChat(),liveChatId:a.getStoredLiveChatId(),responseId:a.getStoredResponseId()})}a.wrapper.focus()}),0);try{Bots.show()}catch(t){return}this.onShow()}else console.log("bot has not started yet!")},isOpen:!1,hide_frame:function(){a.isOpen=!1;var t=a.getRestoreData();t&&a.saveBot(t),a.setVisitorCookie("qbClosed",!0,!0),!1!==a.options.button&&a.button&&("never"!==a.options.showStickyAvatar&&(a.button.className=a.button.className+" show",a.button.removeAttribute("inert")),a.button.classList.contains("showPopup")&&(a.button.classList.remove("showPopup"),a.button.setAttribute("aria-expanded",!1)),a.options.stickyAvatarPopup.showOnHover&&!a.isMobile()&&a.button.classList.add("hoverModeOn")),a.container&&(a.container.className=a.container.className.replace(/\s*show/g,""),a.container.setAttribute("inert",!0));try{Bots.hide()}catch(t){}this.onHide()},foldOutClose:function(t){if("iframe"===t.type){var e=document.getElementsByClassName("fold-out")[0],n=document.getElementsByClassName("fold-out__iframe")[0];e.classList.remove("fold-out_mode_display"),n.setAttribute("src","about:blank")}a.container.classList.remove("foldOutMode"),a.message.send("foldOutClosed")},requestPopulateURL:function(t){this.populateURL(t,function(e){this.sendPopulatedURL(t,e)}.bind(this))},populateURL:function(t,e){a.async.mapSeries(["Source","Medium","Campaign","Term","Content","Custom"],function(t,e){var n="utm"+t;if(!a.options[n])return e(null,{item:void 0});a.populateValues(a.options[n],(function(n,o){return e(null,{item:t,value:o})}))}.bind(this),function(n,o){if(!n&&t){var i=new a.URL(t,!0);o.forEach((function(t){if(t.item)if("Custom"===t.item&&t.value){var e=new a.URL("?"+t.value,!0);Object.keys(e.query).forEach((function(t){i.query[t]=e.query[t]}))}else{var n="utm_"+t.item.toLowerCase();!i.query[n]&&t.value&&(i.query[n]=t.value)}})),e(i.toString())}else e(t)}.bind(this))},sendPopulatedURL:function(t,e){a.message.send("populateURL",{url:t,result:e})},handleRedirect:function(t){a.redirect=!0,a.followRedirect=Boolean(t.follow);var e=a.getRestoreData();e&&a.saveBot(e),this.populateURL(t.url,function(e){window.location.href!==e&&(this.onRedirect(e),t.handled||window.open(e,t.target)||(window.location.href=e))}.bind(this))},foldOutOpen:function(t,e){if(a.container.classList.add("foldOutMode"),"iframe"===e.type){var n=document.getElementsByClassName("fold-out")[0],o=document.getElementsByClassName("fold-out__close")[0],i=document.getElementsByClassName("fold-out__wrapper")[0],r=document.getElementsByClassName("fold-out__iframe")[0],s=document.getElementsByClassName("fold-out__title")[0];if(o&&t&&o.addEventListener("click",function(){this.foldOutClose(e)}.bind(this),!1),e.data){var u=document.createTextNode(e.title||"");i.classList.add("fold-out_show_iframe"),this.populateURL(e.data,function(t){r.setAttribute("src",t),e.isTitleLinkDisabled?(s.removeAttribute("href"),s.removeAttribute("target")):s.setAttribute("href",t),s.innerHTML="",s.appendChild(u),setTimeout(function(){n.classList.add("fold-out_mode_display")}.bind(this),500)}.bind(this))}}},change:function(t){switch(t.what){case"wallpaper":var e=document.getElementById("wallpaper");if(e&&t.to){var n=t.to.image,o=t.to.video;o&&a.ytPlayer?(o.muted?a.ytPlayer.mute():a.ytPlayer.unMute(),a.ytPlayer.loadVideoById(o.id)):(e.classList.add("loading"),setTimeout((function(){n&&(n.startsWith("http://")||n.startsWith("https://"))?(document.body&&void 0===document.body.oldBackgroundImage&&(document.body.oldBackgroundImage=e.style.backgroundImage),e.style.setProperty("background-image","url('"+n+"')","important")):n&&(void 0===document.body.oldClassName&&(document.body.oldClassName=document.body.className),document.body.className=document.body.oldClassName+" "+n),setTimeout((function(){e.classList.remove("loading")}),300)}),750))}break;case"avatar":var i=document.getElementsByClassName("fold-out__avatar")[0],r="url('"+t.to+"')";i&&i.style.setProperty("background-image",r,"important");break;default:return}},execute:function(t){t.script&&r(t.script)()},getoptions:function(t){return a.options[t]},get:function(t){return a[t]},handleRequestURI:function(){var t;try{t=parent.location.href}catch(t){return}var e,n={};n.uri=t.split("?")[1]||!1,n.args={};var o=!!n.uri&&n.uri.split("&");if(o&&o.length){for(e=0;e<o.length;e++){var i=o[e].split("=");n.args[i[0]]=decodeURIComponent(i[1])}var r=a.options.answerStorage||!1;if(r)for(e=0;e<r.length;e++){var s=r[e].arg,u=r[e].key,c=r[e].render,l=n.args[s]||!1,f=r[e].text||!1;l&&(a.options.savedAnswers||(a.options.savedAnswers=[]),a.options.savedAnswers.push({key:u,render:c,value:l,text:f}))}}},handleApiCall:function(t,e){if(e)a.message.send("api",t);else if(a.options.api){var n=a.options.api;n[t.data.type]?n[t.data.type](t.data,(function(e,n){e.type=t.data.type,a.handleApiCall(e,n)}),a.storedData):a.message.send("api",!1)}else a.message.send("api",!1)},api:function(t,e){if(a.options.api){var n=a.options.api;n[t.type]?n[t.type](t,(function(n,o){n.type=t.type,e(n,o)}),a.storedData):e(null)}else e(null)},getStepOptions:function(t,e,n){r("("+t+")")(e,this.getVariableValue.bind(this),n)},validateAnswer:function(t,e,n){r("("+t+")")(e,this.getVariableValue.bind(this),n)},getStepSettingsScript:function(t,e){r("("+t+")")(this.getVariableValue.bind(this),e)},getVariableValue:function(t,e){var n=this.storedData.answers,i={};this.variables.forEach(function(t){var e={type:t.type.value};if(i[t.name]=e,t.is_server)e.value=function(e){var n=this.options.getVariableUrl,o=this.storedData.responseId;n=n+"/"+t.name;var i={Response:o,"Content-Type":"application/json"};this.ajax(n,function(n){try{var o=JSON.parse(n);e(o.value)}catch(n){console.log("Error getting the variable value: ",t.name,n),e()}}.bind(this),this.storedData,i)}.bind(this);else switch(t.type.value){case"script":try{var o=r("("+t.value+")");e.value=function(t){return o(t,i)}}catch(e){console.log("Error evaluating the variable: ",t.name,e)}break;case"step":var a=n&&n.filter((function(e){return e.question.key===t.step})).pop();null!=a&&(e.text=a.text.answers_text,Array.isArray(e.text)&&(e.text=e.text.join(",")),e.value=a.value.value);break;case"string":e.value=e.text=t.value}}.bind(this));var s=i[t],u="";if(s){if("function"==typeof s.value)return s.value(e,i);u=s.text}else if(s=i[t.split(".")[0]]){if("function"==typeof s.value)return s.value(e,i);u=s.value}return!u&&a.options.visitor&&"object"===o(a.options.visitor)&&["userAvatar","userEmail","userFirstName","userGender","userID","userLanguage","userLastName","userName","userPhone","userTimezone"].forEach((function(e){if(t===e){var n=e.slice(4);(n=n.charAt(0).toLowerCase()+n.slice(1)).length<3&&(n=n.toLowerCase());var o=a.options.visitor[n];null!=o&&(u=o)}})),e?e(u):u},sendPopulatedValues:function(t,e){a.message.send("populateValues",{base:t,result:e})},_variableRegexp:/{{([\w.]\.?)*}}/gi,populateValues:function(t,e){var n=t,o=t&&t.match(/{%(\d)*%}/gi),i=t&&t.match(/{%([\w.])*%}/gi),r=t&&t.match(this._variableRegexp),s=[],u=[],c=[];if(!o&&!i&&!r)return this.sendPopulatedValues(n,t),e&&e(n,t);o&&o.length>0&&o.forEach((function(t){s.push(parseInt(t.replace(/[{}%]/gi,"")))})),r&&r.length>0&&r.forEach((function(t){u.push(t.replace(/[{}]/gi,"").toString())})),i&&i.length>0&&i.forEach((function(t){s.push(t.replace(/[{}%]/gi,"").toString())}));var l=this.storedData.answers;if(o&&o.length>0){if(!l||!l.length)return o.forEach((function(e){t=t.replace(new RegExp(e,"gi"),"")})),this.sendPopulatedValues(n,t),e&&e(n,t);l&&l.length>=1&&l.forEach((function(t,e){s.indexOf(t.question.key)>=0&&c.push(t)})),o.forEach((function(e,n){var o=c[n]?c[n].text.answers_text:"";Array.isArray(o)&&(o=o.join(",")),t=t.replace(new RegExp(e,"ig"),o)}))}var f=r&&r.length>0,p=i&&i.length>0;if(!p&&!f)return this.sendPopulatedValues(n,t),e&&e(n,t);var d=[];if(f&&(p&&r.forEach((function(t){i.erase(t)})),r.forEach(function(t,e){var n=u[e];d.push({variable:n,item:t})}.bind(this))),p)for(var h=0;h<i.length;h++){var v=i[h];if((v=(v=v.toString().trim()).replace(/[{}%]/gi,"").trim()).split(".").length>=2){var g=v.split(".")[0],m=v.split(".")[1],b=v.split(".")[2];if(b)if(isNaN(b))var y=this.getVariableValue(b);else var w=l.filter(function(t,e){return t.question.key==b}.bind(this)).pop();if("api"===g){var S={type:m,value:w?w.value.value:y,html:t,name:v};d.push(S)}}else;}a.async.reduce(d,t,function(t,e,n){e.html=t,e.variable?this.getVariableValue(e.variable,(function(o){return null==o&&(o=""),n(null,t.replace(new RegExp(e.item,"ig"),o))})):e.type?this.api(e,function(t){return n(null,this.populateFromApi(e.name,t))}.bind(this)):n(null,t,"")}.bind(this),function(t,o){t||(this.sendPopulatedValues(n,o),e&&e(n,o))}.bind(this))},populateFromApi:function(t,e){if(e&&"object"===o(e)){var n=e.base,i=e.content.toString();return n.replace("{%"+t+"%}",i)}return""},addMessageListener:function(){window.removeEventListener("message",a.message.receive,!1),window.addEventListener("message",a.message.receive,!1)},initBot:function(){if(!a.botInited){a.botInited=!0,a.load.widget(),a.addMessageListener();var t=!1,e=!1;window.addEventListener("beforeunload",function(e){t||(this.handleExit(e),e.returnValue||(t=!0))}.bind(this)),window.addEventListener("pagehide",function(n){if(t){if(e)return;return e=!0,void a.handleExit(n,!0)}t=!0,this.handleExit(n)}.bind(this))}},soundNotification:function(t){if("start"!==t||!this.popupAutoShown){t={start:"bot_start",popup:"bot_start",answer:"bot_step_answer"}[t];var e=a.options.soundNotifications&&a.options.soundNotifications[t];if(e){var n=e,o=window.AudioContext||window.webkitAudioContext;if(o){var i,r=n.context||new o,s=function(){var t=n.frequency||466.2,e=n.interval||120,o=(n.duration||120)/1e3,i=n.rampValue||1e-5,a=n.count||2,s=function(){a||(a=1),function s(u){!function(){var e=r.currentTime,a=r.createOscillator(),s=r.createGain();a.connect(s),s.connect(r.destination);var u=n.gain||s.gain.value;s.gain.setValueAtTime(0,e),s.gain.exponentialRampToValueAtTime(u,e),s.gain.exponentialRampToValueAtTime(i,e+o),a.onended=function(){s.disconnect(r.destination),a.disconnect(s)},a.type="sine",a.frequency.value=t,a.start(e),a.stop(e+o)}(),++u<a&&setTimeout(s,e,u)}(0)};return s.destroy=function(){n.context||r.close()},s(),s};if("running"===r.state)return s();r.onstatechange=function(){"running"===r.state&&(clearInterval(i),s())}.bind(this),i=setInterval((function(){r.resume()}),500)}}}},nestedFrameCallback:null,checkNestedFrame:function(t){parent&&parent!==window&&parent.postMessage?(a.addMessageListener(),parent.postMessage(JSON.stringify({action:"checkNestedFrameRequest"}),"*"),this.nestedFrameCallback=t,setTimeout(function(){this.nestedFrameCallback&&this.nestedFrameCallback()}.bind(this),100)):t()},checkNestedFrameRequest:function(t){for(var e=document.getElementsByTagName("iframe"),n=0;n<e.length;n++){var o=e[n];o.getAttribute("id")!==a.options.wrapper&&o.contentWindow.postMessage(JSON.stringify({action:"checkNestedFrameResponse"}),t)}},checkNestedFrameResponse:function(){this.nestedFrameCallback=null},followRedirect:!1,initInstance:function(){a.popupAutoShown=!1,a.isOpen=!1,a.inited=!1,a.initedAt=null,a.redirect=!1,a.completed=!1,a.activebot=null,a.button=null,a.popupButton=null,a.popupClose=null,a.wrapper=null,a.autoallowed=!0,a.hasstarted=!1,a.autoStart=!1,a.ytPlayer=null,a.botStatus={isReady:!1,hasData:!1},a.followRedirect=!1,a.children=[],a.exited=!1,a.variables=[],a.startRetry=null,a.botInited=!1,a.storedData={answers:null,info:null,name:"unknown",isComplete:!1,start:null,stop:null}},inited:!1,initedAt:null,init:function(t,e){a.inited||a.checkNestedFrame((function(){a.initInstance(),a.inited=!0,a.initedAt=Date.now(),a.setOptions(t),a.restoreVisitor(),a.handleRequestURI(),a.load.videoIframe(),a.load.styles(),a.load.button(),a.load.behaviours(),a.load.whiteLabel(),a.buttonstart(),a.addAvatarOffset(),a.avatarPopupClose(),a.needsPreload(t)&&a.initBot(),a.popupAutoShow(),a.showPopupHandle(),a.autostart(),a.onInit(),a.attachTabVisibility()}))},needsPreload:function(t){if(t&&t.preload)return!0;var e=t&&t.stickyAvatarPopup;return!!(e&&e.title&&e.title.match(a._variableRegexp))||(!!(e&&e.button&&e.button.match(a._variableRegexp))||void 0)},destroy:function(){a.children.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),a.children=[],a.ytPlayer&&a.ytPlayer.destroy(),a.initInstance()},hide:function(){a.hide_frame(),a.button.classList.remove("show")},show:function(t){t&&(a.autoStart||"never"===a.options.showStickyAvatar||"closed"===a.options.showStickyAvatar)||a.button.classList.add("show")},initIdleStepAnimation:function(){var t=document.title,e=null,n=null,o=!1,i=this.options.idleStepEnableFaviconAnimation,r=this.options.idleStepEnableTitleAnimation,s=null;if(this.options.idleStep){s=this.options.idleStep;var u=function(){o&&(o&&(o=!1,e&&(clearInterval(e),e=null),n&&(clearInterval(n),n=null),r&&(document.title=t),i&&a.Tinycon&&"function"==typeof a.Tinycon.reset&&a.Tinycon.reset()),a.message.send("idleStepReturn",s))};this.isVisibilityChangeListenerRegistered||(document.addEventListener("visibilitychange",(function(){document.hidden&&a.isOpen?o||setTimeout((function(){document.hidden&&!o&&function(){if(!o){if(o=!0,i){var s=!0;a.Tinycon&&"function"==typeof a.Tinycon.setBubble&&(a.Tinycon.setBubble("!"),n=setInterval((function(){s?a.Tinycon.reset():a.Tinycon.setBubble("!"),s=!s}),1e3))}if(r){var u=t.length,c=0;e=setInterval((function(){var e=t.substring(c)+" | "+t.substring(0,c);document.title=e,c=(c+1)%u}),200)}}}()}),3e3):u()})),this.isVisibilityChangeListenerRegistered=!0)}}};n.default=a},{"cross-safe-eval":7}],5:[function(t,e,n){(function(t,o,i){(function(){!function(t,o){"object"==typeof n&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o(t.async=t.async||{})}(this,(function(n){"use strict";function r(t,e){e|=0;for(var n=Math.max(t.length-e,0),o=Array(n),i=0;i<n;i++)o[i]=t[e+i];return o}var a=function(t){var e=r(arguments,1);return function(){var n=r(arguments);return t.apply(null,e.concat(n))}},s=function(t){return function(){var e=r(arguments),n=e.pop();t.call(this,e,n)}};function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var c="function"==typeof i&&i,l="object"==typeof t&&"function"==typeof t.nextTick;function f(t){setTimeout(t,0)}function p(t){return function(e){var n=r(arguments,1);t((function(){e.apply(null,n)}))}}var d=p(c?i:l?t.nextTick:f);function h(t){return s((function(e,n){var o;try{o=t.apply(this,e)}catch(t){return n(t)}u(o)&&"function"==typeof o.then?o.then((function(t){v(n,null,t)}),(function(t){v(n,t.message?t:new Error(t))})):n(null,o)}))}function v(t,e,n){try{t(e,n)}catch(t){d(g,t)}}function g(t){throw t}var m="function"==typeof Symbol;function b(t){return m&&"AsyncFunction"===t[Symbol.toStringTag]}function y(t){return b(t)?h(t):t}function w(t){return function(e){var n=r(arguments,1),o=s((function(n,o){var i=this;return t(e,(function(t,e){y(t).apply(i,n.concat(e))}),o)}));return n.length?o.apply(this,n):o}}var S="object"==typeof o&&o&&o.Object===Object&&o,k="object"==typeof self&&self&&self.Object===Object&&self,C=S||k||Function("return this")(),O=C.Symbol,L=Object.prototype,x=L.hasOwnProperty,A=L.toString,E=O?O.toStringTag:void 0;var T=Object.prototype.toString;var I=O?O.toStringTag:void 0;function j(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?function(t){var e=x.call(t,E),n=t[E];try{t[E]=void 0;var o=!0}catch(t){}var i=A.call(t);return o&&(e?t[E]=n:delete t[E]),i}(t):function(t){return T.call(t)}(t)}function _(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function q(t){return null!=t&&_(t.length)&&!function(t){if(!u(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)}var R={};function P(){}function B(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var M="function"==typeof Symbol&&Symbol.iterator;function N(t){return null!=t&&"object"==typeof t}function U(t){return N(t)&&"[object Arguments]"==j(t)}var D=Object.prototype,V=D.hasOwnProperty,F=D.propertyIsEnumerable,W=U(function(){return arguments}())?U:function(t){return N(t)&&V.call(t,"callee")&&!F.call(t,"callee")},H=Array.isArray;var z="object"==typeof n&&n&&!n.nodeType&&n,G=z&&"object"==typeof e&&e&&!e.nodeType&&e,J=G&&G.exports===z?C.Buffer:void 0,$=(J?J.isBuffer:void 0)||function(){return!1},Q=/^(?:0|[1-9]\d*)$/;function X(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Q.test(t))&&t>-1&&t%1==0&&t<e}var K={};K["[object Float32Array]"]=K["[object Float64Array]"]=K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0,K["[object Arguments]"]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object Boolean]"]=K["[object DataView]"]=K["[object Date]"]=K["[object Error]"]=K["[object Function]"]=K["[object Map]"]=K["[object Number]"]=K["[object Object]"]=K["[object RegExp]"]=K["[object Set]"]=K["[object String]"]=K["[object WeakMap]"]=!1;var Y,Z="object"==typeof n&&n&&!n.nodeType&&n,tt=Z&&"object"==typeof e&&e&&!e.nodeType&&e,et=tt&&tt.exports===Z&&S.process,nt=function(){try{var t=tt&&tt.require&&tt.require("util").types;return t||et&&et.binding&&et.binding("util")}catch(t){}}(),ot=nt&&nt.isTypedArray,it=ot?(Y=ot,function(t){return Y(t)}):function(t){return N(t)&&_(t.length)&&!!K[j(t)]},rt=Object.prototype.hasOwnProperty;function at(t,e){var n=H(t),o=!n&&W(t),i=!n&&!o&&$(t),r=!n&&!o&&!i&&it(t),a=n||o||i||r,s=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],u=s.length;for(var c in t)!e&&!rt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||X(c,u))||s.push(c);return s}var st=Object.prototype;var ut=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ct=Object.prototype.hasOwnProperty;function lt(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||st))return ut(t);var e,n,o=[];for(var i in Object(t))ct.call(t,i)&&"constructor"!=i&&o.push(i);return o}function ft(t){return q(t)?at(t):lt(t)}function pt(t){if(q(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e,n,o,i,r=function(t){return M&&t[M]&&t[M]()}(t);return r?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(r):(n=ft(e=t),o=-1,i=n.length,function t(){var r=n[++o];return"__proto__"===r?t():o<i?{value:e[r],key:r}:null})}function dt(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function ht(t){return function(e,n,o){if(o=B(o||P),t<=0||!e)return o(null);var i=pt(e),r=!1,a=0,s=!1;function u(t,e){if(a-=1,t)r=!0,o(t);else{if(e===R||r&&a<=0)return r=!0,o(null);s||c()}}function c(){for(s=!0;a<t&&!r;){var e=i();if(null===e)return r=!0,void(a<=0&&o(null));a+=1,n(e.value,e.key,dt(u))}s=!1}c()}}function vt(t,e,n,o){ht(e)(t,y(n),o)}function gt(t,e){return function(n,o,i){return t(n,e,o,i)}}function mt(t,e,n){n=B(n||P);var o=0,i=0,r=t.length;function a(t,e){t?n(t):++i!==r&&e!==R||n(null)}for(0===r&&n(null);o<r;o++)e(t[o],o,dt(a))}var bt=gt(vt,1/0),yt=function(t,e,n){(q(t)?mt:bt)(t,y(e),n)};function wt(t){return function(e,n,o){return t(yt,e,y(n),o)}}function St(t,e,n,o){o=o||P,e=e||[];var i=[],r=0,a=y(n);t(e,(function(t,e,n){var o=r++;a(t,(function(t,e){i[o]=e,n(t)}))}),(function(t){o(t,i)}))}var kt=wt(St),Ct=w(kt);function Ot(t){return function(e,n,o,i){return t(ht(n),e,y(o),i)}}var Lt=Ot(St),xt=gt(Lt,1),At=w(xt);function Et(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}var Tt,It=function(t,e,n){for(var o=-1,i=Object(t),r=n(t),a=r.length;a--;){var s=r[Tt?a:++o];if(!1===e(i[s],s,i))break}return t};function jt(t,e){return t&&It(t,e,ft)}function _t(t){return t!=t}function qt(t,e,n){return e==e?function(t,e,n){for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}(t,e,n):function(t,e,n,o){for(var i=t.length,r=n+(o?1:-1);o?r--:++r<i;)if(e(t[r],r,t))return r;return-1}(t,_t,n)}var Rt=function(t,e,n){"function"==typeof e&&(n=e,e=null),n=B(n||P);var o=ft(t).length;if(!o)return n(null);e||(e=o);var i={},a=0,s=!1,u=Object.create(null),c=[],l=[],f={};function p(t,e){c.push((function(){!function(t,e){if(s)return;var o=dt((function(e,o){if(a--,arguments.length>2&&(o=r(arguments,1)),e){var c={};jt(i,(function(t,e){c[e]=t})),c[t]=o,s=!0,u=Object.create(null),n(e,c)}else i[t]=o,Et(u[t]||[],(function(t){t()})),d()}));a++;var c=y(e[e.length-1]);e.length>1?c(i,o):c(o)}(t,e)}))}function d(){if(0===c.length&&0===a)return n(null,i);for(;c.length&&a<e;){c.shift()()}}function h(e){var n=[];return jt(t,(function(t,o){H(t)&&qt(t,e,0)>=0&&n.push(o)})),n}jt(t,(function(e,n){if(!H(e))return p(n,[e]),void l.push(n);var o=e.slice(0,e.length-1),i=o.length;if(0===i)return p(n,e),void l.push(n);f[n]=i,Et(o,(function(r){if(!t[r])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+r+"` in "+o.join(", "));!function(t,e){var n=u[t];n||(n=u[t]=[]);n.push(e)}(r,(function(){0===--i&&p(n,e)}))}))})),function(){var t=0;for(;l.length;)t++,Et(h(l.pop()),(function(t){0==--f[t]&&l.push(t)}));if(t!==o)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d()};function Pt(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}var Bt=O?O.prototype:void 0,Mt=Bt?Bt.toString:void 0;function Nt(t){if("string"==typeof t)return t;if(H(t))return Pt(t,Nt)+"";if(function(t){return"symbol"==typeof t||N(t)&&"[object Symbol]"==j(t)}(t))return Mt?Mt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ut(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:function(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+e];return r}(t,e,n)}var Dt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Vt="\\ud800-\\udfff",Ft="["+Vt+"]",Wt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ht="\\ud83c[\\udffb-\\udfff]",zt="[^"+Vt+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Jt="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="(?:"+Wt+"|"+Ht+")"+"?",Qt="[\\ufe0e\\ufe0f]?",Xt=Qt+$t+("(?:\\u200d(?:"+[zt,Gt,Jt].join("|")+")"+Qt+$t+")*"),Kt="(?:"+[zt+Wt+"?",Wt,Gt,Jt,Ft].join("|")+")",Yt=RegExp(Ht+"(?="+Ht+")|"+Kt+Xt,"g");function Zt(t){return function(t){return Dt.test(t)}(t)?function(t){return t.match(Yt)||[]}(t):function(t){return t.split("")}(t)}var te=/^\s+|\s+$/g;function ee(t,e,n){var o;if((t=null==(o=t)?"":Nt(o))&&(n||void 0===e))return t.replace(te,"");if(!t||!(e=Nt(e)))return t;var i=Zt(t),r=Zt(e),a=function(t,e){for(var n=-1,o=t.length;++n<o&&qt(e,t[n],0)>-1;);return n}(i,r),s=function(t,e){for(var n=t.length;n--&&qt(e,t[n],0)>-1;);return n}(i,r)+1;return Ut(i,a,s).join("")}var ne=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,oe=/,/,ie=/(=.+)?(\s*)$/,re=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ae(t,e){var n={};jt(t,(function(t,e){var o,i=b(t),r=!i&&1===t.length||i&&0===t.length;if(H(t))o=t.slice(0,-1),t=t[t.length-1],n[e]=o.concat(o.length>0?a:t);else if(r)n[e]=t;else{if(o=function(t){return(t=(t=(t=t.toString().replace(re,"")).match(ne)[2].replace(" ",""))?t.split(oe):[]).map((function(t){return ee(t.replace(ie,""))}))}(t),0===t.length&&!i&&0===o.length)throw new Error("autoInject task functions require explicit parameters.");i||o.pop(),n[e]=o.concat(a)}function a(e,n){var i=Pt(o,(function(t){return e[t]}));i.push(n),y(t).apply(null,i)}})),Rt(n,e)}function se(){this.head=this.tail=null,this.length=0}function ue(t,e){t.length=1,t.head=t.tail=e}function ce(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=y(t),i=0,r=[],a=!1;function s(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(l.started=!0,H(t)||(t=[t]),0===t.length&&l.idle())return d((function(){l.drain()}));for(var o=0,i=t.length;o<i;o++){var r={data:t[o],callback:n||P};e?l._tasks.unshift(r):l._tasks.push(r)}a||(a=!0,d((function(){a=!1,l.process()})))}function u(t){return function(e){i-=1;for(var n=0,o=t.length;n<o;n++){var a=t[n],s=qt(r,a,0);0===s?r.shift():s>0&&r.splice(s,1),a.callback.apply(a,arguments),null!=e&&l.error(e,a.data)}i<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var c=!1,l={_tasks:new se,concurrency:e,payload:n,saturated:P,unsaturated:P,buffer:e/4,empty:P,drain:P,error:P,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){l.drain=P,l._tasks.empty()},unshift:function(t,e){s(t,!0,e)},remove:function(t){l._tasks.remove(t)},process:function(){if(!c){for(c=!0;!l.paused&&i<l.concurrency&&l._tasks.length;){var t=[],e=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var a=0;a<n;a++){var s=l._tasks.shift();t.push(s),r.push(s),e.push(s.data)}i+=1,0===l._tasks.length&&l.empty(),i===l.concurrency&&l.saturated();var f=dt(u(t));o(e,f)}c=!1}},length:function(){return l._tasks.length},running:function(){return i},workersList:function(){return r},idle:function(){return l._tasks.length+i===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,d(l.process))}};return l}function le(t,e){return ce(t,1,e)}se.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},se.prototype.empty=function(){for(;this.head;)this.shift();return this},se.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},se.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},se.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ue(this,t)},se.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ue(this,t)},se.prototype.shift=function(){return this.head&&this.removeLink(this.head)},se.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},se.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},se.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var fe=gt(vt,1);function pe(t,e,n,o){o=B(o||P);var i=y(n);fe(t,(function(t,n,o){i(e,t,(function(t,n){e=n,o(t)}))}),(function(t){o(t,e)}))}function de(){var t=Pt(arguments,y);return function(){var e=r(arguments),n=this,o=e[e.length-1];"function"==typeof o?e.pop():o=P,pe(t,e,(function(t,e,o){e.apply(n,t.concat((function(t){var e=r(arguments,1);o(t,e)})))}),(function(t,e){o.apply(n,[t].concat(e))}))}}var he=function(){return de.apply(null,r(arguments).reverse())},ve=Array.prototype.concat,ge=function(t,e,n,o){o=o||P;var i=y(n);Lt(t,e,(function(t,e){i(t,(function(t){return t?e(t):e(null,r(arguments,1))}))}),(function(t,e){for(var n=[],i=0;i<e.length;i++)e[i]&&(n=ve.apply(n,e[i]));return o(t,n)}))},me=gt(ge,1/0),be=gt(ge,1),ye=function(){var t=r(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function we(t){return t}function Se(t,e){return function(n,o,i,r){r=r||P;var a,s=!1;n(o,(function(n,o,r){i(n,(function(o,i){o?r(o):t(i)&&!a?(s=!0,a=e(!0,n),r(null,R)):r()}))}),(function(t){t?r(t):r(null,s?a:e(!1))}))}}function ke(t,e){return e}var Ce=wt(Se(we,ke)),Oe=Ot(Se(we,ke)),Le=gt(Oe,1);function xe(t){return function(e){var n=r(arguments,1);n.push((function(e){var n=r(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&Et(n,(function(e){console[t](e)})))})),y(e).apply(null,n)}}var Ae=xe("dir");function Ee(t,e,n){n=dt(n||P);var o=y(t),i=y(e);function a(t){if(t)return n(t);var e=r(arguments,1);e.push(s),i.apply(this,e)}function s(t,e){return t?n(t):e?void o(a):n(null)}s(null,!0)}function Te(t,e,n){n=dt(n||P);var o=y(t),i=function(t){if(t)return n(t);var a=r(arguments,1);if(e.apply(this,a))return o(i);n.apply(null,[null].concat(a))};o(i)}function Ie(t,e,n){Te(t,(function(){return!e.apply(this,arguments)}),n)}function je(t,e,n){n=dt(n||P);var o=y(e),i=y(t);function r(t){if(t)return n(t);i(a)}function a(t,e){return t?n(t):e?void o(r):n(null)}i(a)}function _e(t){return function(e,n,o){return t(e,o)}}function qe(t,e,n){yt(t,_e(y(e)),n)}function Re(t,e,n,o){ht(e)(t,_e(y(n)),o)}var Pe=gt(Re,1);function Be(t){return b(t)?t:s((function(e,n){var o=!0;e.push((function(){var t=arguments;o?d((function(){n.apply(null,t)})):n.apply(null,t)})),t.apply(this,e),o=!1}))}function Me(t){return!t}var Ne=wt(Se(Me,Me)),Ue=Ot(Se(Me,Me)),De=gt(Ue,1);function Ve(t){return function(e){return null==e?void 0:e[t]}}function Fe(t,e,n,o){var i=new Array(e.length);t(e,(function(t,e,o){n(t,(function(t,n){i[e]=!!n,o(t)}))}),(function(t){if(t)return o(t);for(var n=[],r=0;r<e.length;r++)i[r]&&n.push(e[r]);o(null,n)}))}function We(t,e,n,o){var i=[];t(e,(function(t,e,o){n(t,(function(n,r){n?o(n):(r&&i.push({index:e,value:t}),o())}))}),(function(t){t?o(t):o(null,Pt(i.sort((function(t,e){return t.index-e.index})),Ve("value")))}))}function He(t,e,n,o){(q(e)?Fe:We)(t,e,y(n),o||P)}var ze=wt(He),Ge=Ot(He),Je=gt(Ge,1);function $e(t,e){var n=dt(e||P),o=y(Be(t));!function t(e){if(e)return n(e);o(t)}()}var Qe=function(t,e,n,o){o=o||P;var i=y(n);Lt(t,e,(function(t,e){i(t,(function(n,o){return n?e(n):e(null,{key:o,val:t})}))}),(function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,r=0;r<e.length;r++)if(e[r]){var a=e[r].key,s=e[r].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return o(t,n)}))},Xe=gt(Qe,1/0),Ke=gt(Qe,1),Ye=xe("log");function Ze(t,e,n,o){o=B(o||P);var i={},r=y(n);vt(t,e,(function(t,e,n){r(t,e,(function(t,o){if(t)return n(t);i[e]=o,n()}))}),(function(t){o(t,i)}))}var tn=gt(Ze,1/0),en=gt(Ze,1);function nn(t,e){return e in t}function on(t,e){var n=Object.create(null),o=Object.create(null);e=e||we;var i=y(t),a=s((function(t,a){var s=e.apply(null,t);nn(n,s)?d((function(){a.apply(null,n[s])})):nn(o,s)?o[s].push(a):(o[s]=[a],i.apply(null,t.concat((function(){var t=r(arguments);n[s]=t;var e=o[s];delete o[s];for(var i=0,a=e.length;i<a;i++)e[i].apply(null,t)}))))}));return a.memo=n,a.unmemoized=t,a}var rn=p(l?t.nextTick:c?i:f);function an(t,e,n){n=n||P;var o=q(e)?[]:{};t(e,(function(t,e,n){y(t)((function(t,i){arguments.length>2&&(i=r(arguments,1)),o[e]=i,n(t)}))}),(function(t){n(t,o)}))}function sn(t,e){an(yt,t,e)}function un(t,e,n){an(ht(e),t,n)}var cn=function(t,e){var n=y(t);return ce((function(t,e){n(t[0],e)}),e,1)},ln=function(t,e){var n=cn(t,e);return n.push=function(t,e,o){if(null==o&&(o=P),"function"!=typeof o)throw new Error("task callback must be a function");if(n.started=!0,H(t)||(t=[t]),0===t.length)return d((function(){n.drain()}));e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var r=0,a=t.length;r<a;r++){var s={data:t[r],priority:e,callback:o};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}d(n.process)},delete n.unshift,n};function fn(t,e){if(e=B(e||P),!H(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,o=t.length;n<o;n++)y(t[n])(e)}function pn(t,e,n,o){pe(r(t).reverse(),e,n,o)}function dn(t){var e=y(t);return s((function(t,n){return t.push((function(t,e){var o;t?n(null,{error:t}):(o=arguments.length<=2?e:r(arguments,1),n(null,{value:o}))})),e.apply(this,t)}))}function hn(t){var e;return H(t)?e=Pt(t,dn):(e={},jt(t,(function(t,n){e[n]=dn.call(this,t)}))),e}function vn(t,e,n,o){He(t,e,(function(t,e){n(t,(function(t,n){e(t,!n)}))}),o)}var gn=wt(vn),mn=Ot(vn),bn=gt(mn,1);function yn(t){return function(){return t}}function wn(t,e,n){var o={times:5,intervalFunc:yn(0)};if(arguments.length<3&&"function"==typeof t?(n=e||P,e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||5,t.intervalFunc="function"==typeof e.interval?e.interval:yn(+e.interval||0),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||5}}(o,t),n=n||P),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var i=y(e),r=1;!function t(){i((function(e){e&&r++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(r)):n.apply(null,arguments)}))}()}var Sn=function(t,e){e||(e=t,t=null);var n=y(e);return s((function(e,o){function i(t){n.apply(null,e.concat(t))}t?wn(t,i,o):wn(i,o)}))};function kn(t,e){an(fe,t,e)}var Cn=wt(Se(Boolean,we)),On=Ot(Se(Boolean,we)),Ln=gt(On,1);function xn(t,e,n){var o=y(e);function i(t,e){var n=t.criteria,o=e.criteria;return n<o?-1:n>o?1:0}kt(t,(function(t,e){o(t,(function(n,o){if(n)return e(n);e(null,{value:t,criteria:o})}))}),(function(t,e){if(t)return n(t);n(null,Pt(e.sort(i),Ve("value")))}))}function An(t,e,n){var o=y(t);return s((function(i,r){var a,s=!1;i.push((function(){s||(r.apply(null,arguments),clearTimeout(a))})),a=setTimeout((function(){var e=t.name||"anonymous",o=new Error('Callback function "'+e+'" timed out.');o.code="ETIMEDOUT",n&&(o.info=n),s=!0,r(o)}),e),o.apply(null,i)}))}var En=Math.ceil,Tn=Math.max;function In(t,e,n,o){var i=y(n);Lt(function(t,e,n,o){for(var i=-1,r=Tn(En((e-t)/(n||1)),0),a=Array(r);r--;)a[o?r:++i]=t,t+=n;return a}(0,t,1),e,i,o)}var jn=gt(In,1/0),_n=gt(In,1);function qn(t,e,n,o){arguments.length<=3&&(o=n,n=e,e=H(t)?[]:{}),o=B(o||P);var i=y(n);yt(t,(function(t,n,o){i(e,t,n,o)}),(function(t){o(t,e)}))}function Rn(t,e){var n,o=null;e=e||P,Pe(t,(function(t,e){y(t)((function(t,i){n=arguments.length>2?r(arguments,1):i,o=t,e(!t)}))}),(function(){e(o,n)}))}function Pn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Bn(t,e,n){n=dt(n||P);var o=y(e);if(!t())return n(null);var i=function(e){if(e)return n(e);if(t())return o(i);var a=r(arguments,1);n.apply(null,[null].concat(a))};o(i)}function Mn(t,e,n){Bn((function(){return!t.apply(this,arguments)}),e,n)}var Nn=function(t,e){if(e=B(e||P),!H(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function o(e){var o=y(t[n++]);e.push(dt(i)),o.apply(null,e)}function i(i){if(i||n===t.length)return e.apply(null,arguments);o(r(arguments,1))}o([])},Un={apply:a,applyEach:Ct,applyEachSeries:At,asyncify:h,auto:Rt,autoInject:ae,cargo:le,compose:he,concat:me,concatLimit:ge,concatSeries:be,constant:ye,detect:Ce,detectLimit:Oe,detectSeries:Le,dir:Ae,doDuring:Ee,doUntil:Ie,doWhilst:Te,during:je,each:qe,eachLimit:Re,eachOf:yt,eachOfLimit:vt,eachOfSeries:fe,eachSeries:Pe,ensureAsync:Be,every:Ne,everyLimit:Ue,everySeries:De,filter:ze,filterLimit:Ge,filterSeries:Je,forever:$e,groupBy:Xe,groupByLimit:Qe,groupBySeries:Ke,log:Ye,map:kt,mapLimit:Lt,mapSeries:xt,mapValues:tn,mapValuesLimit:Ze,mapValuesSeries:en,memoize:on,nextTick:rn,parallel:sn,parallelLimit:un,priorityQueue:ln,queue:cn,race:fn,reduce:pe,reduceRight:pn,reflect:dn,reflectAll:hn,reject:gn,rejectLimit:mn,rejectSeries:bn,retry:wn,retryable:Sn,seq:de,series:kn,setImmediate:d,some:Cn,someLimit:On,someSeries:Ln,sortBy:xn,timeout:An,times:jn,timesLimit:In,timesSeries:_n,transform:qn,tryEach:Rn,unmemoize:Pn,until:Mn,waterfall:Nn,whilst:Bn,all:Ne,allLimit:Ue,allSeries:De,any:Cn,anyLimit:On,anySeries:Ln,find:Ce,findLimit:Oe,findSeries:Le,forEach:qe,forEachSeries:Pe,forEachLimit:Re,forEachOf:yt,forEachOfSeries:fe,forEachOfLimit:vt,inject:pe,foldl:pe,foldr:pn,select:ze,selectLimit:Ge,selectSeries:Je,wrapSync:h};n.default=Un,n.apply=a,n.applyEach=Ct,n.applyEachSeries=At,n.asyncify=h,n.auto=Rt,n.autoInject=ae,n.cargo=le,n.compose=he,n.concat=me,n.concatLimit=ge,n.concatSeries=be,n.constant=ye,n.detect=Ce,n.detectLimit=Oe,n.detectSeries=Le,n.dir=Ae,n.doDuring=Ee,n.doUntil=Ie,n.doWhilst=Te,n.during=je,n.each=qe,n.eachLimit=Re,n.eachOf=yt,n.eachOfLimit=vt,n.eachOfSeries=fe,n.eachSeries=Pe,n.ensureAsync=Be,n.every=Ne,n.everyLimit=Ue,n.everySeries=De,n.filter=ze,n.filterLimit=Ge,n.filterSeries=Je,n.forever=$e,n.groupBy=Xe,n.groupByLimit=Qe,n.groupBySeries=Ke,n.log=Ye,n.map=kt,n.mapLimit=Lt,n.mapSeries=xt,n.mapValues=tn,n.mapValuesLimit=Ze,n.mapValuesSeries=en,n.memoize=on,n.nextTick=rn,n.parallel=sn,n.parallelLimit=un,n.priorityQueue=ln,n.queue=cn,n.race=fn,n.reduce=pe,n.reduceRight=pn,n.reflect=dn,n.reflectAll=hn,n.reject=gn,n.rejectLimit=mn,n.rejectSeries=bn,n.retry=wn,n.retryable=Sn,n.seq=de,n.series=kn,n.setImmediate=d,n.some=Cn,n.someLimit=On,n.someSeries=Ln,n.sortBy=xn,n.timeout=An,n.times=jn,n.timesLimit=In,n.timesSeries=_n,n.transform=qn,n.tryEach=Rn,n.unmemoize=Pn,n.until=Mn,n.waterfall=Nn,n.whilst=Bn,n.all=Ne,n.allLimit=Ue,n.allSeries=De,n.any=Cn,n.anyLimit=On,n.anySeries=Ln,n.find=Ce,n.findLimit=Oe,n.findSeries=Le,n.forEach=qe,n.forEachSeries=Pe,n.forEachLimit=Re,n.forEachOf=yt,n.forEachOfSeries=fe,n.forEachOfLimit=vt,n.inject=pe,n.foldl=pe,n.foldr=pn,n.select=ze,n.selectLimit=Ge,n.selectSeries=Je,n.wrapSync=h,Object.defineProperty(n,"__esModule",{value:!0})}))}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:13,timers:6}],6:[function(t,e,n){(function(e,o){(function(){var i=t("process/browser.js").nextTick,r=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,o=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,i((function(){s[e]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof o?o:function(t){delete s[t]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":13,timers:6}],7:[function(require,module,exports){var globals=Object.getOwnPropertyNames(this);module.exports=function makeSafeEval(include){for(var clearGlobals="",i=0,len=globals.length;i<len;i++)(include&&-1===include.indexOf(globals[i])||!include)&&(clearGlobals+="var "+globals[i]+" = undefined;");return function(operation){var globals=void 0;return eval("(function () {"+clearGlobals+";return "+operation.replace("this","_this")+"})()")}}},{}],8:[function(t,e,n){"use strict";function o(t,e){var n,o;if("function"==typeof e)void 0!==(o=e(t))&&(t=o);else if(Array.isArray(e))for(n=0;n<e.length;n++)void 0!==(o=e[n](t))&&(t=o);return t}function i(t,e){return"-"===t[0]&&Array.isArray(e)&&/^-\d+$/.test(t)?e.length+parseInt(t,10):t}function r(t){return"[object Object]"===Object.prototype.toString.call(t)}function a(t){return Object(t)===t}function s(t){return 0===Object.keys(t).length}function u(t,e){return t.indexOf("[")>=0&&(t=t.replace(/\[/g,".").replace(/]/g,"")),t.split(e)}var c=Object.prototype.hasOwnProperty;function l(t,e,n){if(!(this instanceof l))return new l(t,e,n);void 0===e&&(e=!1),void 0===n&&(n=!0),this.separator=t||".",this.override=e,this.useArray=n,this.keepArray=!1,this.cleanup=[]}var f=new l(".",!1,!0);function p(t){return function(){return f[t].apply(f,arguments)}}l.prototype._fill=function(t,e,n,i){var r=t.shift();if(t.length>0){if(e[r]=e[r]||(this.useArray&&function(t){return/^\d+$/.test(t)}(t[0])?[]:{}),!a(e[r])){if(!this.override){if(!a(n)||!s(n))throw new Error("Trying to redefine `"+r+"` which is a "+typeof e[r]);return}e[r]={}}this._fill(t,e[r],n,i)}else{if(!this.override&&a(e[r])&&!s(e[r])){if(!a(n)||!s(n))throw new Error("Trying to redefine non-empty obj['"+r+"']");return}e[r]=o(n,i)}},l.prototype.object=function(t,e){var n=this;return Object.keys(t).forEach((function(i){var r=void 0===e?null:e[i],a=u(i,n.separator).join(n.separator);-1!==a.indexOf(n.separator)?(n._fill(a.split(n.separator),t,t[i],r),delete t[i]):t[i]=o(t[i],r)})),t},l.prototype.str=function(t,e,n,i){return-1!==t.indexOf(this.separator)?this._fill(t.split(this.separator),n,e,i):n[t]=o(e,i),n},l.prototype.pick=function(t,e,n,o){var r,a,s,c,l;for(a=u(t,this.separator),r=0;r<a.length;r++){if(c=i(a[r],e),!e||"object"!=typeof e||!(c in e))return;if(r===a.length-1)return n?(s=e[c],o&&Array.isArray(e)?e.splice(c,1):delete e[c],Array.isArray(e)&&(l=a.slice(0,-1).join("."),-1===this.cleanup.indexOf(l)&&this.cleanup.push(l)),s):e[c];e=e[c]}return n&&Array.isArray(e)&&(e=e.filter((function(t){return void 0!==t}))),e},l.prototype.delete=function(t,e){return this.remove(t,e,!0)},l.prototype.remove=function(t,e,n){var o;if(this.cleanup=[],Array.isArray(t)){for(o=0;o<t.length;o++)this.pick(t[o],e,!0,n);return n||this._cleanup(e),e}return this.pick(t,e,!0,n)},l.prototype._cleanup=function(t){var e,n,o,i;if(this.cleanup.length){for(n=0;n<this.cleanup.length;n++)e=(e=(i=(o=this.cleanup[n].split(".")).splice(0,-1).join("."))?this.pick(i,t):t)[o[0]].filter((function(t){return void 0!==t})),this.set(this.cleanup[n],e,t);this.cleanup=[]}},l.prototype.del=l.prototype.remove,l.prototype.move=function(t,e,n,i,r){return"function"==typeof i||Array.isArray(i)?this.set(e,o(this.pick(t,n,!0),i),n,r):(r=i,this.set(e,this.pick(t,n,!0),n,r)),n},l.prototype.transfer=function(t,e,n,i,r,a){return"function"==typeof r||Array.isArray(r)?this.set(e,o(this.pick(t,n,!0),r),i,a):(a=r,this.set(e,this.pick(t,n,!0),i,a)),i},l.prototype.copy=function(t,e,n,i,r,a){return"function"==typeof r||Array.isArray(r)?this.set(e,o(JSON.parse(JSON.stringify(this.pick(t,n,!1))),r),i,a):(a=r,this.set(e,this.pick(t,n,!1),i,a)),i},l.prototype.set=function(t,e,n,o){var i,a,s,l;if(void 0===e)return n;for(s=u(t,this.separator),i=0;i<s.length;i++){if(l=s[i],i===s.length-1)if(o&&r(e)&&r(n[l]))for(a in e)c.call(e,a)&&(n[l][a]=e[a]);else if(o&&Array.isArray(n[l])&&Array.isArray(e))for(var f=0;f<e.length;f++)n[s[i]].push(e[f]);else n[l]=e;else c.call(n,l)&&(r(n[l])||Array.isArray(n[l]))||(/^\d+$/.test(s[i+1])?n[l]=[]:n[l]={});n=n[l]}return n},l.prototype.transform=function(t,e,n){return e=e||{},n=n||{},Object.keys(t).forEach(function(o){this.set(t[o],this.pick(o,e),n)}.bind(this)),n},l.prototype.dot=function(t,e,n){return e=e||{},n=n||[],Object.keys(t).forEach(function(o){if(a(t[o])&&(r(t[o])&&!s(t[o])||Array.isArray(t[o])&&!this.keepArray&&0!==t[o].length))return this.dot(t[o],e,n.concat(o));e[n.concat(o).join(this.separator)]=t[o]}.bind(this)),e},l.pick=p("pick"),l.move=p("move"),l.transfer=p("transfer"),l.transform=p("transform"),l.copy=p("copy"),l.object=p("object"),l.str=p("str"),l.set=p("set"),l.del=l.remove=p("remove"),l.dot=p("dot"),["override","overwrite"].forEach((function(t){Object.defineProperty(l,t,{get:function(){return f.override},set:function(t){f.override=!!t}})})),["useArray","keepArray"].forEach((function(t){Object.defineProperty(l,t,{get:function(){return f[t]},set:function(e){f[t]=e}})})),l._process=o,e.exports=l},{}],9:[function(t,e,n){(function(t){(function(){"use strict";function n(t,e,n){o(t,s,e,n),"DOMMouseScroll"==s&&o(t,"MozMousePixelScroll",e,n)}function o(t,e,n,o){t[r](Q+e,"wheel"==s?n:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaY:0,deltaZ:0,clientX:t.clientX,clientY:t.clientY,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(){t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){t.stopImmediatePropagation&&t.stopImmediatePropagation()}};return"mousewheel"==s?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,n(e)},o||!1)}function i(t,e,n,o){t[a](Q+e,n,o||!1)}var r,a,s,u,c,l=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},f="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},p="object"==typeof f&&f&&f.Object===Object&&f,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),v=function(){return h.Date.now()},g=h.Symbol,m=Object.prototype,b=m.hasOwnProperty,y=m.toString,w=g?g.toStringTag:void 0,S=function(t){var e=b.call(t,w),n=t[w];try{t[w]=void 0;var o=!0}catch(t){}var i=y.call(t);return o&&(e?t[w]=n:delete t[w]),i},k=Object.prototype.toString,C=function(t){return k.call(t)},O="[object Null]",L="[object Undefined]",x=g?g.toStringTag:void 0,A=function(t){return null==t?void 0===t?L:O:x&&x in Object(t)?S(t):C(t)},E=function(t){return null!=t&&"object"==typeof t},T="[object Symbol]",I=function(t){return"symbol"==typeof t||E(t)&&A(t)==T},j=NaN,_=/^\s+|\s+$/g,q=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,P=/^0o[0-7]+$/i,B=parseInt,M=function(t){if("number"==typeof t)return t;if(I(t))return j;if(l(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=l(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_,"");var n=R.test(t);return n||P.test(t)?B(t.slice(2),n?2:8):q.test(t)?j:+t},N="Expected a function",U=Math.max,D=Math.min,V=function(t,e,n){function o(e){var n=u,o=c;return u=c=void 0,g=e,p=t.apply(o,n)}function i(t){var n=t-h;return void 0===h||n>=e||n<0||b&&t-g>=f}function r(){var t=v();if(i(t))return a(t);d=setTimeout(r,function(t){var n=e-(t-h);return b?D(n,f-(t-g)):n}(t))}function a(t){return d=void 0,y&&u?o(t):(u=c=void 0,p)}function s(){var t=v(),n=i(t);if(u=arguments,c=this,h=t,n){if(void 0===d)return function(t){return g=t,d=setTimeout(r,e),m?o(t):p}(h);if(b)return d=setTimeout(r,e),o(h)}return void 0===d&&(d=setTimeout(r,e)),p}var u,c,f,p,d,h,g=0,m=!1,b=!1,y=!0;if("function"!=typeof t)throw new TypeError(N);return e=M(e)||0,l(n)&&(m=!!n.leading,f=(b="maxWait"in n)?U(M(n.maxWait)||0,e):f,y="trailing"in n?!!n.trailing:y),s.cancel=function(){void 0!==d&&clearTimeout(d),g=0,u=h=c=d=void 0},s.flush=function(){return void 0===d?p:a(v())},s},F="Expected a function",W=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(F);return l(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),V(t,e,{leading:o,maxWait:e,trailing:i})},H=(u=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},t.exports=e.default},u(c={exports:{}},c.exports),c.exports),z=function(t){return t&&t.__esModule?t.default:t}(H),G=n,J=n,$=function(t,e,n){i(t,s,e,n),"DOMMouseScroll"==s&&i(t,"MozMousePixelScroll",e,n)},Q="";(function(t,e){t&&t.addEventListener?(r="addEventListener",a="removeEventListener"):(r="attachEvent",a="detachEvent",Q="on"),s=e?"onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll":"wheel"})("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),G.addWheelListener=J,G.removeWheelListener=$;!function(){function t(t){this.value=t}function e(e){function n(i,r){try{var a=e[i](r),s=a.value;s instanceof t?Promise.resolve(s.value).then((function(t){n("next",t)}),(function(t){n("throw",t)})):o(a.done?"return":"normal",a.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?n(i.key,i.arg):r=null}var i,r;this._invoke=function(t,e){return new Promise((function(o,a){var s={key:t,arg:e,resolve:o,reject:a,next:null};r?r=r.next=s:(i=r=s,n(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},K=!z();e.exports=function(){var t=X({},{debug:!1,maxDisplays:99999,eventThrottle:200,showAfterInactiveSecondsDesktop:60,showAfterInactiveSecondsMobile:40,showAgainAfterSeconds:10,onExitIntent:function(){}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),e=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i;t.debug&&(i=console).log.apply(i,["[exit-intent-mobile]"].concat(n))},n=0,o=W((function(){n<t.maxDisplays&&(e("display onExitIntent",++n),t.onExitIntent(),n>=t.maxDisplays&&l())}),1e3*t.showAgainAfterSeconds,{trailing:!1}),i=void 0;K&&(e("register mouseleave for desktop"),i=document.body.addEventListener("mouseleave",W((function(){e("mouseleave"),o()}),t.eventThrottle),!1));var r=K?t.showAfterInactiveSecondsDesktop:t.showAfterInactiveSecondsMobile;e("timeoutOnDevice",r);var a=void 0,s=function(){void 0!==r?(void 0!==a&&(e("clearTimeout()"),window.clearTimeout(a)),a=window.setTimeout((function(){e("display after timeout"),o()}),1e3*r)):e("display disabled")};s();var u=[],c=function(n,o){e("registering event for restartTimer",n,o);var i=o.addEventListener(n,W((function(t){e("throttled listener",t),s()}),t.eventThrottle),!1);return u.push({event:n,listener:i,target:o}),i};K&&(c("scroll",window),c("mousemove",window),J(window,(function(n){W((function(t){e("throttled wheel listener",t),s()}),t.eventThrottle)}))),z&&(c("touchstart",document.body),c("touchend",document.body),c("touchmove",document.body));var l=function(){e("removeEvents",n),i&&(document.body.removeEventListener("mouseleave",i),$(window,(function(){e("removeWheelListener")}))),u.forEach((function(t){var e=t.event,n=t.listener;t.target.removeEventListener(e,n)}))};return l}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){var o=t("is-buffer");function i(t,e){var n=(e=e||{}).delimiter||".",i=e.maxDepth,r={};return function t(a,s,u){u=u||1,Object.keys(a).forEach((function(c){var l=a[c],f=e.safe&&Array.isArray(l),p=Object.prototype.toString.call(l),d=o(l),h=s?s+n+c:c;if(!f&&!d&&("[object Object]"===p||"[object Array]"===p)&&Object.keys(l).length&&(!e.maxDepth||u<i))return t(l,h,u+1);r[h]=l}))}(t),r}e.exports=i,i.flatten=i,i.unflatten=function t(e,n){var i=(n=n||{}).delimiter||".",r=n.overwrite||!1,a={};if(o(e)||"[object Object]"!==Object.prototype.toString.call(e))return e;function s(t){var e=Number(t);return isNaN(e)||-1!==t.indexOf(".")||n.object?t:e}return Object.keys(e).sort((function(t,e){return t.length-e.length})).forEach((function(o){for(var u=o.split(i),c=s(u.shift()),l=s(u[0]),f=a;void 0!==l;){if("__proto__"===c)return;var p=Object.prototype.toString.call(f[c]),d="[object Object]"===p||"[object Array]"===p;if(!r&&!d&&void 0!==f[c])return;(r&&!d||!r&&null==f[c])&&(f[c]="number"!=typeof l||n.object?{}:[]),f=f[c],u.length>0&&(c=s(u.shift()),l=s(u[0]))}f[c]=t(e[o],n)})),a}},{"is-buffer":11}],11:[function(t,e,n){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},{}],12:[function(t,e,n){!function(t,o){"object"==typeof n&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var e=t.Cookies,n=t.Cookies=o();n.noConflict=function(){return t.Cookies=e,n}}())}(this,(function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}var e=function e(n,o){function i(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=t({},o,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in r)r[s]&&(a+="; "+s,!0!==r[s]&&(a+="="+r[s].split(";")[0]));return document.cookie=e+"="+n.write(i,e)+a}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],o={},i=0;i<e.length;i++){var r=e[i].split("="),a=r.slice(1).join("=");try{var s=decodeURIComponent(r[0]);if(o[s]=n.read(a,s),t===s)break}catch(t){}}return t?o[t]:o}},remove:function(e,n){i(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});return e}))},{}],13:[function(t,e,n){var o,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(t){o=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,l=[],f=!1,p=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!f){var t=u(d);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new v(t,e)),1!==l.length||f||u(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],14:[function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function r(t){try{return encodeURIComponent(t)}catch(t){return null}}n.stringify=function(t,e){e=e||"";var n,i,a=[];for(i in"string"!=typeof e&&(e="?"),t)if(o.call(t,i)){if((n=t[i])||null!=n&&!isNaN(n)||(n=""),i=r(i),n=r(n),null===i||null===n)continue;a.push(i+"="+n)}return a.length?e+a.join("&"):""},n.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,o={};e=n.exec(t);){var r=i(e[1]),a=i(e[2]);null===r||null===a||r in o||(o[r]=a)}return o}},{}],15:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],16:[function(t,e,n){e.exports=function(){var t={};return{defaults:function(e,n){t=n},get:function(e,n){var o=e();return void 0!==o?o:t[n]}}}},{}],17:[function(t,e,n){var o="expire_mixin";e.exports=function(){var t=this.createStore(this.storage,null,this._namespacePrefix+o);return{set:function(e,n,i,r){this.hasNamespace(o)||t.set(n,r);return e()},get:function(t,n){this.hasNamespace(o)||e.call(this,n);return t()},remove:function(e,n){this.hasNamespace(o)||t.remove(n);return e()},getExpiration:function(e,n){return t.get(n)},removeExpiredKeys:function(t){var n=[];this.each((function(t,e){n.push(e)}));for(var o=0;o<n.length;o++)e.call(this,n[o])}};function e(e){t.get(e,Number.MAX_VALUE)<=(new Date).getTime()&&(this.raw.remove(e),t.remove(e))}}},{}],18:[function(t,e,n){var o=t("./util"),i=o.slice,r=o.pluck,a=o.each,s=o.bind,u=o.create,c=o.isList,l=o.isFunction,f=o.isObject;e.exports={createStore:d};var p={version:"2.0.12",enabled:!1,get:function(t,e){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each((function(n,o){t.call(e,e._deserialize(n),(o||"").replace(e._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return d(this.storage,this.plugins,t)}};function d(t,e,n){n||(n=""),t&&!c(t)&&(t=[t]),e&&!c(e)&&(e=[e]);var o=n?"__storejs_"+n+"_":"",d=n?new RegExp("^"+o):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:o,_namespaceRegexp:d,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(t){return!1}},_assignPluginFnProp:function(t,e){var n=this[e];this[e]=function(){var e=i(arguments,0),o=this;var r=[function(){if(n)return a(arguments,(function(t,n){e[n]=t})),n.apply(o,e)}].concat(e);return t.apply(o,r)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(e){n=t}return void 0!==n?n:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(c(t))a(t,(function(t){e._addPlugin(t)}));else if(!r(this.plugins,(function(e){return t===e}))){if(this.plugins.push(t),!l(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!f(n))throw new Error("Plugins must return an object of function properties");a(n,(function(n,o){if(!l(n))throw new Error("Bad plugin property: "+o+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(n,o)}))}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},v=u(h,p,{plugins:[]});return v.raw={},a(v,(function(t,e){l(t)&&(v.raw[e]=s(v,t))})),a(t,(function(t){v._addStorage(t)})),a(e,(function(t){v._addPlugin(t)})),v}},{"./util":19}],19:[function(t,e,n){(function(t){(function(){var n=Object.assign?Object.assign:function(t,e,n,o){for(var i=1;i<arguments.length;i++)s(Object(arguments[i]),(function(e,n){t[n]=e}));return t},o=function(){if(Object.create)return function(t,e,o,i){var r=a(arguments,1);return n.apply(this,[Object.create(t)].concat(r))};{function t(){}return function(e,o,i,r){var s=a(arguments,1);return t.prototype=e,n.apply(this,[new t].concat(s))}}}(),i=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},r="undefined"!=typeof window?window:t;function a(t,e){return Array.prototype.slice.call(t,e||0)}function s(t,e){u(t,(function(t,n){return e(t,n),!1}))}function u(t,e){if(c(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var o in t)if(t.hasOwnProperty(o)&&e(t[o],o))return t[o]}function c(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}e.exports={assign:n,create:o,trim:i,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:a,each:s,map:function(t,e){var n=c(t)?[]:{};return u(t,(function(t,o){return n[o]=e(t,o),!1})),n},pluck:u,isList:c,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:r}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){var o=t("../src/util"),i=o.Global,r=o.trim;e.exports={name:"cookieStorage",read:function(t){if(!t||!c(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;a.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:u,clearAll:function(){s((function(t,e){u(e)}))}};var a=i.document;function s(t){for(var e=a.cookie.split(/; ?/g),n=e.length-1;n>=0;n--)if(r(e[n])){var o=e[n].split("="),i=unescape(o[0]);t(unescape(o[1]),i)}}function u(t){t&&c(t)&&(a.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},{"../src/util":19}],21:[function(t,e,n){var o=t("../src/util").Global;function i(){return o.localStorage}function r(t){return i().getItem(t)}e.exports={name:"localStorage",read:r,write:function(t,e){return i().setItem(t,e)},each:function(t){for(var e=i().length-1;e>=0;e--){var n=i().key(e);t(r(n),n)}},remove:function(t){return i().removeItem(t)},clearAll:function(){return i().clear()}}},{"../src/util":19}],22:[function(t,e,n){e.exports={name:"memoryStorage",read:function(t){return o[t]},write:function(t,e){o[t]=e},each:function(t){for(var e in o)o.hasOwnProperty(e)&&t(o[e],e)},remove:function(t){delete o[t]},clearAll:function(t){o={}}};var o={}},{}],23:[function(t,e,n){
/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2015 Tom Moor
 * @license MIT Licensed
 */
var o,i,r,a,s,u,c,l,f,p,d,h,v,g,m,b,y,w,S,k,C,O,L;i={},r=null,a=null,s=null,u=null,c={},l=Math.ceil(window.devicePixelRatio)||1,f=16*l,p={width:7,height:9,font:10*l+"px arial",color:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},o=navigator.userAgent.toLowerCase(),h=(d=function(t){return-1!==o.indexOf(t)})("trident"),d("chrome"),v=d("chrome")||d("safari"),g=d("safari")&&!d("chrome"),m=d("mozilla")&&!d("chrome")&&!d("safari"),b=function(){if(!a||!r){var t=function(){for(var t=document.getElementsByTagName("link"),e=0,n=t.length;e<n;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/i))return t[e];return!1}();r=t?t.getAttribute("href"):"/favicon.ico",a||(a=r)}return r},y=function(){return u||((u=document.createElement("canvas")).width=f,u.height=f),u},w=function(t){if(t){!function(){for(var t=document.getElementsByTagName("link"),e=0,n=t.length;e<n;e++)void 0!==t[e]&&(t[e].getAttribute("rel")||"").match(/\bicon\b/i)&&t[e].parentNode.removeChild(t[e])}();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}},S=function(t){if(c.fallback){var e=document.title;"("===e[0]&&(e=e.slice(e.indexOf(" "))),document.title=(t+"").length>0?"("+t+") "+e:e}},k=function(t,e,n){"number"==typeof e&&e>99&&c.abbreviate&&(e=O(e));var o=(e+"").length-1,i=c.width*l+6*l*o,r=c.height*l,a=f-r,s=f-i-l,u=16*l,p=16*l,d=2*l;t.font=(v?"bold ":"")+c.font,t.fillStyle=c.background,t.strokeStyle=c.background,t.lineWidth=l,t.beginPath(),t.moveTo(s+d,a),t.quadraticCurveTo(s,a,s,a+d),t.lineTo(s,u-d),t.quadraticCurveTo(s,u,s+d,u),t.lineTo(p-d,u),t.quadraticCurveTo(p,u,p,u-d),t.lineTo(p,a+d),t.quadraticCurveTo(p,a,p-d,a),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(s+d/2,u),t.lineTo(p-d/2,u),t.stroke(),t.fillStyle=c.color,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===l?29:15,m?7*l:6*l)},C=function(){y().getContext&&w(y().toDataURL())},O=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],n=0;n<e.length;++n)if(t>=e[n][1]){t=L(t/e[n][1])+e[n][0];break}return t},L=function(t,e){return new Number(t).toFixed(e)},i.setOptions=function(t){for(var e in c={},t.colour&&(t.color=t.colour),p)c[e]=t.hasOwnProperty(e)?t[e]:p[e];return this},i.setImage=function(t){return r=t,C(),this},i.setBubble=function(t,e){return function(t,e){if(!y().getContext||h||g||"force"===c.fallback)return S(t);var n=y().getContext("2d"),o=(e=e||"#000000",b());(s=document.createElement("img")).onload=function(){n.clearRect(0,0,f,f),n.drawImage(s,0,0,s.width,s.height,0,0,f,f),(t+"").length>0&&k(n,t,e),C()},!o.match(/^data/)&&c.crossOrigin&&(s.crossOrigin="anonymous"),s.src=o}(t=t||"",e),this},i.reset=function(){r=a,w(a)},i.setOptions(p),"function"==typeof define&&define.amd?define(i):void 0!==e?e.exports=i:window.Tinycon=i},{}],24:[function(t,e,n){(function(n){(function(){"use strict";var o=t("requires-port"),i=t("querystringify"),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function f(t){return(t||"").toString().replace(r,"")}var p=[["#","hash"],["?","query"],function(t,e){return v(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function h(t){var e,o=("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}).location||{},i={},r=typeof(t=t||o);if("blob:"===t.protocol)i=new m(unescape(t.pathname),{});else if("string"===r)for(e in i=new m(t,{}),d)delete i[e];else if("object"===r){for(e in t)e in d||(i[e]=t[e]);void 0===i.slashes&&(i.slashes=s.test(t.href))}return i}function v(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function g(t,e){t=(t=f(t)).replace(a,""),e=e||{};var n,o=c.exec(t),i=o[1]?o[1].toLowerCase():"",r=!!o[2],s=!!o[3],u=0;return r?s?(n=o[2]+o[3]+o[4],u=o[2].length+o[3].length):(n=o[2]+o[4],u=o[2].length):s?(n=o[3]+o[4],u=o[3].length):n=o[4],"file:"===i?u>=2&&(n=n.slice(2)):v(i)?n=o[4]:i?r&&(n=n.slice(2)):u>=2&&v(e.protocol)&&(n=o[4]),{protocol:i,slashes:r||v(i),slashesCount:u,rest:n}}function m(t,e,n){if(t=(t=f(t)).replace(a,""),!(this instanceof m))return new m(t,e,n);var r,s,u,c,d,b,y=p.slice(),w=typeof e,S=this,k=0;for("object"!==w&&"string"!==w&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),r=!(s=g(t||"",e=h(e))).protocol&&!s.slashes,S.slashes=s.slashes||r&&e.slashes,S.protocol=s.protocol||e.protocol||"",t=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(t))||!s.slashes&&(s.protocol||s.slashesCount<2||!v(S.protocol)))&&(y[3]=[/(.*)/,"pathname"]);k<y.length;k++)"function"!=typeof(c=y[k])?(u=c[0],b=c[1],u!=u?S[b]=t:"string"==typeof u?~(d="@"===u?t.lastIndexOf(u):t.indexOf(u))&&("number"==typeof c[2]?(S[b]=t.slice(0,d),t=t.slice(d+c[2])):(S[b]=t.slice(d),t=t.slice(0,d))):(d=u.exec(t))&&(S[b]=d[1],t=t.slice(0,d.index)),S[b]=S[b]||r&&c[3]&&e[b]||"",c[4]&&(S[b]=S[b].toLowerCase())):t=c(t,S);n&&(S.query=n(S.query)),r&&e.slashes&&"/"!==S.pathname.charAt(0)&&(""!==S.pathname||""!==e.pathname)&&(S.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),o=n.length,i=n[o-1],r=!1,a=0;o--;)"."===n[o]?n.splice(o,1):".."===n[o]?(n.splice(o,1),a++):a&&(0===o&&(r=!0),n.splice(o,1),a--);return r&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(S.pathname,e.pathname)),"/"!==S.pathname.charAt(0)&&v(S.protocol)&&(S.pathname="/"+S.pathname),o(S.port,S.protocol)||(S.host=S.hostname,S.port=""),S.username=S.password="",S.auth&&(~(d=S.auth.indexOf(":"))?(S.username=S.auth.slice(0,d),S.username=encodeURIComponent(decodeURIComponent(S.username)),S.password=S.auth.slice(d+1),S.password=encodeURIComponent(decodeURIComponent(S.password))):S.username=encodeURIComponent(decodeURIComponent(S.auth)),S.auth=S.password?S.username+":"+S.password:S.username),S.origin="file:"!==S.protocol&&v(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString()}m.prototype={set:function(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),r[t]=e;break;case"port":r[t]=e,o(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,u.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";r[t]=e.charAt(0)!==a?a+e:e}else r[t]=e;break;case"username":case"password":r[t]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(r.username=e.slice(0,s),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=e.slice(s+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(e))}for(var c=0;c<p.length;c++){var l=p[c];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&v(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,o=n.host,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(n.protocol&&n.slashes||v(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&v(n.protocol)&&!o&&"/"!==n.pathname&&(a+="@"),(":"===o[o.length-1]||u.test(n.hostname)&&!n.port)&&(o+=":"),a+=o+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(a+=n.hash),a}},m.extractProtocol=g,m.location=h,m.trimLeft=f,m.qs=i,e.exports=m}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:14,"requires-port":15}]},{},[3]);
//# sourceMappingURL=/website/js/widget2.0b29bfba.min.js.map
